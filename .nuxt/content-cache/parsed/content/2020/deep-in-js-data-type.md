{"parsed":{"_path":"/2020/deep-in-js-data-type","_dir":"2020","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"深入学习JavaScript数据类型","description":"数据类型是我们学习JavaScript时最先接触的东西，它是JavaScript中最基础的知识，这些知识看似简单，但实则有着许多初学者甚至是部分学习了多年JavaScript的老手所不了解的知识。","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"数据类型是我们学习"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"JavaScript"}]},{"type":"text","value":"时最先接触的东西，它是"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"JavaScript"}]},{"type":"text","value":"中最基础的知识，这些知识看似简单，但实则有着许多初学者甚至是部分学习了多年"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"JavaScript"}]},{"type":"text","value":"的老手所不了解的知识。"}]},{"type":"element","tag":"h2","props":{"id":"数据类型"},"children":[{"type":"text","value":"数据类型"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ECSMAScript标准中规定了7种数据类型，这7种数据类型又分为基本类型和引用类型。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"基本类型"}]},{"type":"text","value":"："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Null"}]},{"type":"text","value":"：只包含一个值："},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Undefined"}]},{"type":"text","value":"：只包含一个值："},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"undefined"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Boolean"}]},{"type":"text","value":"：包含"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"和"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Number"}]},{"type":"text","value":"：整数或浮点数，还有一些特殊值（"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"-Infinity"}]},{"type":"text","value":"、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"+Infinity"}]},{"type":"text","value":"、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NaN"}]},{"type":"text","value":"）"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"String"}]},{"type":"text","value":"：字符串"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Symbol"}]},{"type":"text","value":"：表示独一无二的值（ES6加入）"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ES10(ES2019)中新增了一种基本类型"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"BigInt"}]},{"type":"text","value":"，可以用来表示超出"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"number"}]},{"type":"text","value":"安全范围的任意精度整数。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"引用类型"}]},{"type":"text","value":"："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Object"}]},{"type":"text","value":"对象：包含对象、数组、函数等。"}]}]},{"type":"element","tag":"h2","props":{"id":"基本类型和引用类型的区别"},"children":[{"type":"text","value":"基本类型和引用类型的区别"}]},{"type":"element","tag":"h3","props":{"id":"存放位置不同"},"children":[{"type":"text","value":"存放位置不同"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"内存空间被分为两种：栈内存和堆内存。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"栈内存"}]},{"type":"text","value":"："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"存储的值大小固定"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"空间较小"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"可以直接操作，效率高"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"堆内存"}]},{"type":"text","value":"："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"存储的值大小不确定，可以动态调整"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"空间较大，运行效率低"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"无法直接操作其内部，使用引用地址读取"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"基本类型就属于较为简单的数据，且会被频繁使用，因此通常存放在栈中。"}]},{"type":"element","tag":"code","props":{"code":"var a = 10;\nvar b = 'hello';\nvar c = true;\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var a = 10;\nvar b = 'hello';\nvar c = true;\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"基本类型存储","src":"https://gcore.jsdelivr.net/gh/qiyuor2/blog-image/img/2020070702stack.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"引用类型则是"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"同时"}]},{"type":"text","value":"保存在栈和堆当中：引用类型的实际值存储在堆当中，同时它会在栈中存储一个指向堆内存中的值的地址。"}]},{"type":"element","tag":"code","props":{"code":"var a = 10;\nvar obj1 = { name: 'nihao' };\nvar obj2 = function () {\n    // do something\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var a = 10;\nvar obj1 = { name: 'nihao' };\nvar obj2 = function () {\n    // do something\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"引用类型存储","src":"https://gcore.jsdelivr.net/gh/qiyuor2/blog-image/img/20200707heap2.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"基本类型具有不可变性"},"children":[{"type":"text","value":"基本类型具有不可变性"}]},{"type":"element","tag":"code","props":{"code":"var name = 'hello';\nname.toUpperCase(); // \"HELLO\"\nconsole.log(name); // \"hello\"\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var name = 'hello';\nname.toUpperCase(); // \"HELLO\"\nconsole.log(name); // \"hello\"\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由以上代码我们会发现，如果不使用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"name"}]},{"type":"text","value":"变量本身去接收"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"toUpperCase()"}]},{"type":"text","value":"的返回值，那么"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"name"}]},{"type":"text","value":"的值不会被改变。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由于栈中的内存空间大小固定，所以存储在栈中的变量就是不可变的，但在使用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"JavaScript"}]},{"type":"text","value":"时我们会发现可以改变基本类型的值，例如："}]},{"type":"element","tag":"code","props":{"code":"var c = true;\nc = false;\nconsole.log(c); // false\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var c = true;\nc = false;\nconsole.log(c); // false\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这实际上是相当于在栈中开辟了一片新的空间用来存储"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"这个值，然后用变量"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"c"}]},{"type":"text","value":"指向这个值，并非改变原本的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"更改基本类型的值","src":"https://gcore.jsdelivr.net/gh/qiyuor2/blog-image/img/2020070703stack.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"引用类型就可以很轻易的改变了，它不需要使用变量本身("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"obj1"}]},{"type":"text","value":")去再次接收新的值就可以改变，例如："}]},{"type":"element","tag":"code","props":{"code":"var obj1 = { name: 'nihao' };\nobj1.name = 'nibuhao';\nconsole.log(obj1); // { name: 'nibuhao' }\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var obj1 = { name: 'nihao' };\nobj1.name = 'nibuhao';\nconsole.log(obj1); // { name: 'nibuhao' }\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"值比较和引用比较"},"children":[{"type":"text","value":"值比较和引用比较"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对于基本类型，比较时会直接比较它们的值，相等返回"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]}]},{"type":"element","tag":"code","props":{"code":"var str1 = 'Hello';\nvar str2 = 'Hello';\nconsole.log(str1 === str2); // true\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var str1 = 'Hello';\nvar str2 = 'Hello';\nconsole.log(str1 === str2); // true\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对于引用类型，比较时会比较它们的引用地址，哪怕两个变量具有同名属性，且同名属性的值相同，但是因为存储位置不同，两者仍然不相等"}]},{"type":"element","tag":"code","props":{"code":"var obj1 = { name: 'obj' };\nvar obj2 = { name: 'obj' };\nconsole.log(obj1 === obj2); // false\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var obj1 = { name: 'obj' };\nvar obj2 = { name: 'obj' };\nconsole.log(obj1 === obj2); // false\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://gcore.jsdelivr.net/gh/qiyuor2/blog-image/img/20200707diff.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"赋值"},"children":[{"type":"text","value":"赋值"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"与上面的两种比较类似，基本类型赋值时是直接将值给另一个变量，而引用类型则是将地址给另一个变量"}]},{"type":"element","tag":"code","props":{"code":"var str1 = 'Hello';\nvar str2 = str1;\nstr2 = 'World';\nconsole.log(str1); // \"Hello\"\n//str1的值没变\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var str1 = 'Hello';\nvar str2 = str1;\nstr2 = 'World';\nconsole.log(str1); // \"Hello\"\n//str1的值没变\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"var obj1 = { name: 'obj1' };\nvar obj2 = obj1;\nobj2.name = 'obj2';\nconsole.log(obj1.name); // \"obj2\"\n// obj1的值改变\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var obj1 = { name: 'obj1' };\nvar obj2 = obj1;\nobj2.name = 'obj2';\nconsole.log(obj1.name); // \"obj2\"\n// obj1的值改变\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"null与undefined"},"children":[{"type":"text","value":"null与undefined"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]},{"type":"text","value":"表示空值"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"undefined"}]},{"type":"text","value":"表示“缺少值”，即此处应该有值，但是还未定义"}]}]},{"type":"element","tag":"code","props":{"code":"var a = null;\nconsole.log(typeof a); // object\nconsole.log(typeof b); // undefined\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var a = null;\nconsole.log(typeof a); // object\nconsole.log(typeof b); // undefined\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果学过"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"C#"}]},{"type":"text","value":"、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Java"}]},{"type":"text","value":"之类的静态类型语言就会知道，直接使用未声明的变量会直接报错，而"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"JavaScript"}]},{"type":"text","value":"是动态类型语言，成员除了存在空值外，还有可能根本就不存在（因为只有在运行时才会知道是否存在）。"}]},{"type":"element","tag":"h2","props":{"id":"symbol类型"},"children":[{"type":"text","value":"Symbol类型"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"symbol"}]},{"type":"text","value":"变量需要使用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Symbol()"}]},{"type":"text","value":"创建"}]},{"type":"element","tag":"code","props":{"code":"var s = Symbol(); // 注意没有new\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var s = Symbol(); // 注意没有new\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Symbol()"}]},{"type":"text","value":"函数接受一个可选参数，用来描述即将创建的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"symbol"}]},{"type":"text","value":"变量，无论传入的描述是否相同，最后生成的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"symbol"}]},{"type":"text","value":"一定是独一无二的"}]},{"type":"element","tag":"code","props":{"code":"var name1 = Symbol('Tom');\nvar name2 = Symbol('Tom');\nconsole.log(name1 === name2); // false\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var name1 = Symbol('Tom');\nvar name2 = Symbol('Tom');\nconsole.log(name1 === name2); // false\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果一定要创建两个一模一样的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"symbol"}]},{"type":"text","value":"，需要使用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Symbol.for()"}]}]},{"type":"element","tag":"code","props":{"code":"var name1 = Symbol.for('Tom');\nvar name2 = Symbol.for('Tom');\nconsole.log(name1 === name2); // true\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var name1 = Symbol.for('Tom');\nvar name2 = Symbol.for('Tom');\nconsole.log(name1 === name2); // true\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Symbol"}]},{"type":"text","value":"类型可以用作对象属性，使用该类型可以保证对象不会出现同名属性"}]},{"type":"element","tag":"code","props":{"code":"var obj = {\n    [Symbol('name')]: 'Tom'\n};\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var obj = {\n    [Symbol('name')]: 'Tom'\n};\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Symbol"}]},{"type":"text","value":"类型作为对象的属性名时，是无法是用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"for ... in"}]},{"type":"text","value":"、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Object.getOwnPropertyNames"}]},{"type":"text","value":"和"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Object.keys()"}]},{"type":"text","value":"获取到该属性的，可以调用用来专门获取"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Symbol"}]},{"type":"text","value":"的方法"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Object.getOwnPropertySymbols()"}]},{"type":"text","value":"来获取"}]},{"type":"element","tag":"code","props":{"code":"var obj = {\n    [Symbol('name')]: 'Tom'\n};\nfor (var key in obj) {\n   console.log(key); // undefined\n}\nObject.getOwnPropertySymbols(obj); // [Symbol(name)]\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var obj = {\n    [Symbol('name')]: 'Tom'\n};\nfor (var key in obj) {\n   console.log(key); // undefined\n}\nObject.getOwnPropertySymbols(obj); // [Symbol(name)]\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"数据类型转换"},"children":[{"type":"text","value":"数据类型转换"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://gcore.jsdelivr.net/gh/qiyuor2/blog-image/img/20200707table.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"图片来源："},{"type":"element","tag":"a","props":{"href":"https://juejin.im/post/5cec1bcff265da1b8f1aa08f#heading-23","rel":["nofollow"]},"children":[{"type":"text","value":"https://juejin.im/post/5cec1bcff265da1b8f1aa08f#heading-23"}]}]},{"type":"element","tag":"h3","props":{"id":"宽松等号的隐式转换"},"children":[{"type":"text","value":"宽松等号（==）的隐式转换"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"=="}]},{"type":"text","value":"时，如果等号两侧的数据类型相同，那么比较结果与"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"==="}]},{"type":"text","value":"相同，否则会发生隐式转换"}]},{"type":"element","tag":"h4","props":{"id":"nan"},"children":[{"type":"text","value":"NaN"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NaN"}]},{"type":"text","value":"和任何类型比较都会返回"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"，包括他自己"}]},{"type":"element","tag":"code","props":{"code":"NaN == NaN // false\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"NaN == NaN // false\n"}]}]}]},{"type":"element","tag":"h4","props":{"id":"boolean类型与其他类型进行比较"},"children":[{"type":"text","value":"Boolean类型与其他类型进行比较"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"只要"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Boolean"}]},{"type":"text","value":"类型参与比较，该"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Boolean"}]},{"type":"text","value":"类型的值都会被转换为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Number"}]},{"type":"text","value":"类型，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"1"}]},{"type":"text","value":"转为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"0"}]},{"type":"text","value":"转为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]}]},{"type":"element","tag":"code","props":{"code":"false == 0 // true\ntrue == 1 // true\ntrue == 2 // false\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"false == 0 // true\ntrue == 1 // true\ntrue == 2 // false\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果在使用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"if"}]},{"type":"text","value":"判断时，我们使用数字作为判断条件"}]},{"type":"element","tag":"code","props":{"code":"var x = 10;\nif (x) {\n    // ...\n}\nif (x == true) {\n    // ...\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var x = 10;\nif (x) {\n    // ...\n}\nif (x == true) {\n    // ...\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我们会发现，第一个判断结果为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"，而第二个的结果为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"，这就是因为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"被转换为了"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"1"}]},{"type":"text","value":"，判断条件变为了"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"x == 1"}]}]},{"type":"element","tag":"h4","props":{"id":"number类型和string类型进行比较"},"children":[{"type":"text","value":"Number类型和String类型进行比较"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这两者进行比较时，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"String"}]},{"type":"text","value":"类型会被转为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Number"}]},{"type":"text","value":"类型，除了纯数字字符串正常转换为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Number"}]},{"type":"text","value":"类型外，空字符串"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"''"}]},{"type":"text","value":"转为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"0"}]},{"type":"text","value":"，科学计数法（例如"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"1e11"}]},{"type":"text","value":"）正常转换，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Infinity"}]},{"type":"text","value":"正常转换，其他全部转换为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NaN"}]}]},{"type":"element","tag":"code","props":{"code":"'' == 0 // true\n'123' == 123 // true\n'1e11' == 1e11 // true\nInfinity == 'Infinity' // true\ntrue == '1' // true\nfalse == '0' // true\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"'' == 0 // true\n'123' == 123 // true\n'1e11' == 1e11 // true\nInfinity == 'Infinity' // true\ntrue == '1' // true\nfalse == '0' // true\n"}]}]}]},{"type":"element","tag":"h4","props":{"id":"null与undefined-1"},"children":[{"type":"text","value":"null与undefined"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"除"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null == undefined"}]},{"type":"text","value":"结果为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"外，其他任何类型和"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]},{"type":"text","value":"或"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"undefined"}]},{"type":"text","value":"比较都为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]}]},{"type":"element","tag":"h4","props":{"id":"基本类型与引用类型比较"},"children":[{"type":"text","value":"基本类型与引用类型比较"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"ToPrimitive规则"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先我们要先了解"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ToPrimitive"}]},{"type":"text","value":"规则，即引用类型转为基本类型"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"当引用类型需要被转为基本类型时，它会先查找对象的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"valueOf"}]},{"type":"text","value":"方法，如果该方法返回基本类型的值，则"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ToPrimitive"}]},{"type":"text","value":"的结果就是这个值"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"valueOf"}]},{"type":"text","value":"不存在或者"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"valueOf"}]},{"type":"text","value":"方法返回的不是基本类型，就会尝试调用对象的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"toString"}]},{"type":"text","value":"方法，然后使用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"toString"}]},{"type":"text","value":"的返回值作为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ToPrimitive"}]},{"type":"text","value":"的结果"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"若"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"valueOf"}]},{"type":"text","value":"和"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"toString"}]},{"type":"text","value":"都不存在，或者没有返回基本类型，则抛出"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TypeError"}]},{"type":"text","value":"异常"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对于不同的引用类型，该过程会有些许不同，比如"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Date"}]},{"type":"text","value":"会先调用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"toString"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"引用类型转换为不同的基本类型也会有一些不同，比如："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"引用类型转换为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Number"}]},{"type":"text","value":"类型，先调用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"valueOf"}]},{"type":"text","value":"，再调用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"toString"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"引用类型转换为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"String"}]},{"type":"text","value":"类型，先调用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"toString"}]},{"type":"text","value":"，再调用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"valueOf"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"具体请参考"},{"type":"element","tag":"a","props":{"href":"https://www.ecma-international.org/ecma-262/6.0/#sec-toprimitive","rel":["nofollow"]},"children":[{"type":"text","value":"ECMA标准"}]}]}]},{"type":"element","tag":"code","props":{"code":"Number([]); // 0\nNumber([10]); // 10\n\nvar obj = {\n    valueOf: () => { return 10; },\n    toString: () => { return -10; }\n};\nNumber(obj); // 10\nString(obj); // -10\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"Number([]); // 0\nNumber([10]); // 10\n\nvar obj = {\n    valueOf: () => { return 10; },\n    toString: () => { return -10; }\n};\nNumber(obj); // 10\nString(obj); // -10\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"基本类型与引用类型比较"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"比较时，引用类型会依据"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ToPrimitive"}]},{"type":"text","value":"规则转换为基本类型"}]},{"type":"element","tag":"code","props":{"code":"var a = {};\nvar b = [1, 2, 3];\n\na == '[object Object]'; // true\na.toString(); // [object Object]\nb == '1,2,3' // true\nb.toString(); // \"1,2,3\"\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var a = {};\nvar b = [1, 2, 3];\n\na == '[object Object]'; // true\na.toString(); // [object Object]\nb == '1,2,3' // true\nb.toString(); // \"1,2,3\"\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"判断数据类型"},"children":[{"type":"text","value":"判断数据类型"}]},{"type":"element","tag":"h3","props":{"id":"typeof"},"children":[{"type":"text","value":"typeof"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"typeof"}]},{"type":"text","value":"只能用来判断以下几个类型"}]},{"type":"element","tag":"code","props":{"code":"typeof 'str';  // string\ntypeof 123;  // number\ntypeof true;  // boolean\ntypeof Symbol();  // symbol\ntypeof undefined;  // undefined\ntypeof function () {} // function\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"typeof 'str';  // string\ntypeof 123;  // number\ntypeof true;  // boolean\ntypeof Symbol();  // symbol\ntypeof undefined;  // undefined\ntypeof function () {} // function\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对于引用类型（数组、对象等）以及"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]},{"type":"text","value":"，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"typeof"}]},{"type":"text","value":"的返回值均为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"object"}]}]},{"type":"element","tag":"h3","props":{"id":"instanceof"},"children":[{"type":"text","value":"instanceof"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"instanceof"}]},{"type":"text","value":"可以判断引用类型的具体类型"}]},{"type":"element","tag":"code","props":{"code":"[] instanceof Array; // true\n/1/ instanceof RegExp; // true\nnew Date() instanceof Date; // true\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[] instanceof Array; // true\n/1/ instanceof RegExp; // true\nnew Date() instanceof Date; // true\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但是，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"instanceof"}]},{"type":"text","value":"同样没法判断"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]}]},{"type":"element","tag":"code","props":{"code":"null instanceof null; // Uncaught TypeError: Right-hand side of 'instanceof' is not an object\nnull instanceof Object; // false\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"null instanceof null; // Uncaught TypeError: Right-hand side of 'instanceof' is not an object\nnull instanceof Object; // false\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在"},{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof","rel":["nofollow"]},"children":[{"type":"text","value":"MDN"}]},{"type":"text","value":"中，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"instanceof"}]},{"type":"text","value":"被这样描述："}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"instanceof"}]}]},{"type":"text","value":" "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"运算符"}]},{"type":"text","value":"用于检测构造函数的 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"prototype"}]},{"type":"text","value":" 属性是否出现在某个实例对象的原型链上。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"也就是说"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"instanceof"}]},{"type":"text","value":"设计的初衷并不是用来检测数据类型的，因此很多类型它也无法判断"}]},{"type":"element","tag":"h3","props":{"id":"objectprototypetostringcall"},"children":[{"type":"text","value":"Object.prototype.toString.call()"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Object.prototype.toString.call()"}]},{"type":"text","value":"利用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"call"}]},{"type":"text","value":"来改变"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"this"}]},{"type":"text","value":"的指向，可以让该方法能够获取到任意变量的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[[class]]"}]},{"type":"text","value":"属性，通过该属性可以判断所有"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"JavaScript"}]},{"type":"text","value":"的内置类型"}]},{"type":"element","tag":"code","props":{"code":"Object.prototype.toString.call(null); // [object Null]\nObject.prototype.toString.call(undefined); // [object Undefined]\nObject.prototype.toString.call(123); // [object Number]\nObject.prototype.toString.call(new Date()); // [object Date]\n// ...\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"Object.prototype.toString.call(null); // [object Null]\nObject.prototype.toString.call(undefined); // [object Undefined]\nObject.prototype.toString.call(123); // [object Number]\nObject.prototype.toString.call(new Date()); // [object Date]\n// ...\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但是该方法并不能判断自定义类型，而"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"instanceof"}]},{"type":"text","value":"可以实现对自定义类型的判断"}]},{"type":"element","tag":"code","props":{"code":"function Person() {}\nObject.prototype.toString.call(new Person()); // [object Object]\nnew Person() instanceof Person; // true\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"function Person() {}\nObject.prototype.toString.call(new Person()); // [object Object]\nnew Person() instanceof Person; // true\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"参考资料"},"children":[{"type":"text","value":"参考资料"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://juejin.im/post/5cec1bcff265da1b8f1aa08f#heading-34","rel":["nofollow"]},"children":[{"type":"text","value":"【JS 进阶】你真的掌握变量和类型了吗"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://juejin.im/post/5bbda2b36fb9a05cfd27f55e","rel":["nofollow"]},"children":[{"type":"text","value":"JavaScript的数据类型及其检测"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.ruanyifeng.com/blog/2014/03/undefined-vs-null.html","rel":["nofollow"]},"children":[{"type":"text","value":"undefined与null的区别"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://juejin.im/post/5bc5c752f265da0a9a399a62","rel":["nofollow"]},"children":[{"type":"text","value":"从一道面试题说起—js隐式转换踩坑合集"}]}]}]}]},"date":"2020/07/06 19:44:50","tags":["JavaScript"],"category":"技术","summary":"数据类型是我们学习`JavaScript`时最先接触的东西，它是`JavaScript`中最基础的知识，这些知识看似简单，但实则有着许多初学者甚至是部分学习了多年`JavaScript`的老手所不了解的知识。","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"数据类型是我们学习"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"JavaScript"}]},{"type":"text","value":"时最先接触的东西，它是"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"JavaScript"}]},{"type":"text","value":"中最基础的知识，这些知识看似简单，但实则有着许多初学者甚至是部分学习了多年"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"JavaScript"}]},{"type":"text","value":"的老手所不了解的知识。"}]},{"type":"element","tag":"h2","props":{"id":"数据类型"},"children":[{"type":"text","value":"数据类型"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ECSMAScript标准中规定了7种数据类型，这7种数据类型又分为基本类型和引用类型。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"基本类型"}]},{"type":"text","value":"："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Null"}]},{"type":"text","value":"：只包含一个值："},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Undefined"}]},{"type":"text","value":"：只包含一个值："},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"undefined"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Boolean"}]},{"type":"text","value":"：包含"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"和"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Number"}]},{"type":"text","value":"：整数或浮点数，还有一些特殊值（"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"-Infinity"}]},{"type":"text","value":"、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"+Infinity"}]},{"type":"text","value":"、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NaN"}]},{"type":"text","value":"）"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"String"}]},{"type":"text","value":"：字符串"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Symbol"}]},{"type":"text","value":"：表示独一无二的值（ES6加入）"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ES10(ES2019)中新增了一种基本类型"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"BigInt"}]},{"type":"text","value":"，可以用来表示超出"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"number"}]},{"type":"text","value":"安全范围的任意精度整数。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"引用类型"}]},{"type":"text","value":"："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Object"}]},{"type":"text","value":"对象：包含对象、数组、函数等。"}]}]},{"type":"element","tag":"h2","props":{"id":"基本类型和引用类型的区别"},"children":[{"type":"text","value":"基本类型和引用类型的区别"}]},{"type":"element","tag":"h3","props":{"id":"存放位置不同"},"children":[{"type":"text","value":"存放位置不同"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"内存空间被分为两种：栈内存和堆内存。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"栈内存"}]},{"type":"text","value":"："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"存储的值大小固定"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"空间较小"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"可以直接操作，效率高"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"堆内存"}]},{"type":"text","value":"："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"存储的值大小不确定，可以动态调整"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"空间较大，运行效率低"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"无法直接操作其内部，使用引用地址读取"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"基本类型就属于较为简单的数据，且会被频繁使用，因此通常存放在栈中。"}]},{"type":"element","tag":"code","props":{"code":"var a = 10;\nvar b = 'hello';\nvar c = true;\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var a = 10;\nvar b = 'hello';\nvar c = true;\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"基本类型存储","src":"https://gcore.jsdelivr.net/gh/qiyuor2/blog-image/img/2020070702stack.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"引用类型则是"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"同时"}]},{"type":"text","value":"保存在栈和堆当中：引用类型的实际值存储在堆当中，同时它会在栈中存储一个指向堆内存中的值的地址。"}]},{"type":"element","tag":"code","props":{"code":"var a = 10;\nvar obj1 = { name: 'nihao' };\nvar obj2 = function () {\n    // do something\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var a = 10;\nvar obj1 = { name: 'nihao' };\nvar obj2 = function () {\n    // do something\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"引用类型存储","src":"https://gcore.jsdelivr.net/gh/qiyuor2/blog-image/img/20200707heap2.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"基本类型具有不可变性"},"children":[{"type":"text","value":"基本类型具有不可变性"}]},{"type":"element","tag":"code","props":{"code":"var name = 'hello';\nname.toUpperCase(); // \"HELLO\"\nconsole.log(name); // \"hello\"\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var name = 'hello';\nname.toUpperCase(); // \"HELLO\"\nconsole.log(name); // \"hello\"\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由以上代码我们会发现，如果不使用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"name"}]},{"type":"text","value":"变量本身去接收"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"toUpperCase()"}]},{"type":"text","value":"的返回值，那么"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"name"}]},{"type":"text","value":"的值不会被改变。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由于栈中的内存空间大小固定，所以存储在栈中的变量就是不可变的，但在使用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"JavaScript"}]},{"type":"text","value":"时我们会发现可以改变基本类型的值，例如："}]},{"type":"element","tag":"code","props":{"code":"var c = true;\nc = false;\nconsole.log(c); // false\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var c = true;\nc = false;\nconsole.log(c); // false\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这实际上是相当于在栈中开辟了一片新的空间用来存储"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"这个值，然后用变量"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"c"}]},{"type":"text","value":"指向这个值，并非改变原本的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"更改基本类型的值","src":"https://gcore.jsdelivr.net/gh/qiyuor2/blog-image/img/2020070703stack.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"引用类型就可以很轻易的改变了，它不需要使用变量本身("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"obj1"}]},{"type":"text","value":")去再次接收新的值就可以改变，例如："}]},{"type":"element","tag":"code","props":{"code":"var obj1 = { name: 'nihao' };\nobj1.name = 'nibuhao';\nconsole.log(obj1); // { name: 'nibuhao' }\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var obj1 = { name: 'nihao' };\nobj1.name = 'nibuhao';\nconsole.log(obj1); // { name: 'nibuhao' }\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"值比较和引用比较"},"children":[{"type":"text","value":"值比较和引用比较"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对于基本类型，比较时会直接比较它们的值，相等返回"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]}]},{"type":"element","tag":"code","props":{"code":"var str1 = 'Hello';\nvar str2 = 'Hello';\nconsole.log(str1 === str2); // true\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var str1 = 'Hello';\nvar str2 = 'Hello';\nconsole.log(str1 === str2); // true\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对于引用类型，比较时会比较它们的引用地址，哪怕两个变量具有同名属性，且同名属性的值相同，但是因为存储位置不同，两者仍然不相等"}]},{"type":"element","tag":"code","props":{"code":"var obj1 = { name: 'obj' };\nvar obj2 = { name: 'obj' };\nconsole.log(obj1 === obj2); // false\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var obj1 = { name: 'obj' };\nvar obj2 = { name: 'obj' };\nconsole.log(obj1 === obj2); // false\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://gcore.jsdelivr.net/gh/qiyuor2/blog-image/img/20200707diff.png"},"children":[]}]},{"type":"element","tag":"h3","props":{"id":"赋值"},"children":[{"type":"text","value":"赋值"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"与上面的两种比较类似，基本类型赋值时是直接将值给另一个变量，而引用类型则是将地址给另一个变量"}]},{"type":"element","tag":"code","props":{"code":"var str1 = 'Hello';\nvar str2 = str1;\nstr2 = 'World';\nconsole.log(str1); // \"Hello\"\n//str1的值没变\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var str1 = 'Hello';\nvar str2 = str1;\nstr2 = 'World';\nconsole.log(str1); // \"Hello\"\n//str1的值没变\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"var obj1 = { name: 'obj1' };\nvar obj2 = obj1;\nobj2.name = 'obj2';\nconsole.log(obj1.name); // \"obj2\"\n// obj1的值改变\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var obj1 = { name: 'obj1' };\nvar obj2 = obj1;\nobj2.name = 'obj2';\nconsole.log(obj1.name); // \"obj2\"\n// obj1的值改变\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"null与undefined"},"children":[{"type":"text","value":"null与undefined"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]},{"type":"text","value":"表示空值"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"undefined"}]},{"type":"text","value":"表示“缺少值”，即此处应该有值，但是还未定义"}]}]},{"type":"element","tag":"code","props":{"code":"var a = null;\nconsole.log(typeof a); // object\nconsole.log(typeof b); // undefined\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var a = null;\nconsole.log(typeof a); // object\nconsole.log(typeof b); // undefined\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果学过"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"C#"}]},{"type":"text","value":"、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Java"}]},{"type":"text","value":"之类的静态类型语言就会知道，直接使用未声明的变量会直接报错，而"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"JavaScript"}]},{"type":"text","value":"是动态类型语言，成员除了存在空值外，还有可能根本就不存在（因为只有在运行时才会知道是否存在）。"}]},{"type":"element","tag":"h2","props":{"id":"symbol类型"},"children":[{"type":"text","value":"Symbol类型"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"symbol"}]},{"type":"text","value":"变量需要使用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Symbol()"}]},{"type":"text","value":"创建"}]},{"type":"element","tag":"code","props":{"code":"var s = Symbol(); // 注意没有new\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var s = Symbol(); // 注意没有new\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Symbol()"}]},{"type":"text","value":"函数接受一个可选参数，用来描述即将创建的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"symbol"}]},{"type":"text","value":"变量，无论传入的描述是否相同，最后生成的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"symbol"}]},{"type":"text","value":"一定是独一无二的"}]},{"type":"element","tag":"code","props":{"code":"var name1 = Symbol('Tom');\nvar name2 = Symbol('Tom');\nconsole.log(name1 === name2); // false\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var name1 = Symbol('Tom');\nvar name2 = Symbol('Tom');\nconsole.log(name1 === name2); // false\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果一定要创建两个一模一样的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"symbol"}]},{"type":"text","value":"，需要使用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Symbol.for()"}]}]},{"type":"element","tag":"code","props":{"code":"var name1 = Symbol.for('Tom');\nvar name2 = Symbol.for('Tom');\nconsole.log(name1 === name2); // true\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var name1 = Symbol.for('Tom');\nvar name2 = Symbol.for('Tom');\nconsole.log(name1 === name2); // true\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Symbol"}]},{"type":"text","value":"类型可以用作对象属性，使用该类型可以保证对象不会出现同名属性"}]},{"type":"element","tag":"code","props":{"code":"var obj = {\n    [Symbol('name')]: 'Tom'\n};\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var obj = {\n    [Symbol('name')]: 'Tom'\n};\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Symbol"}]},{"type":"text","value":"类型作为对象的属性名时，是无法是用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"for ... in"}]},{"type":"text","value":"、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Object.getOwnPropertyNames"}]},{"type":"text","value":"和"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Object.keys()"}]},{"type":"text","value":"获取到该属性的，可以调用用来专门获取"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Symbol"}]},{"type":"text","value":"的方法"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Object.getOwnPropertySymbols()"}]},{"type":"text","value":"来获取"}]},{"type":"element","tag":"code","props":{"code":"var obj = {\n    [Symbol('name')]: 'Tom'\n};\nfor (var key in obj) {\n   console.log(key); // undefined\n}\nObject.getOwnPropertySymbols(obj); // [Symbol(name)]\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var obj = {\n    [Symbol('name')]: 'Tom'\n};\nfor (var key in obj) {\n   console.log(key); // undefined\n}\nObject.getOwnPropertySymbols(obj); // [Symbol(name)]\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"数据类型转换"},"children":[{"type":"text","value":"数据类型转换"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"https://gcore.jsdelivr.net/gh/qiyuor2/blog-image/img/20200707table.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"图片来源："},{"type":"element","tag":"a","props":{"href":"https://juejin.im/post/5cec1bcff265da1b8f1aa08f#heading-23","rel":["nofollow"]},"children":[{"type":"text","value":"https://juejin.im/post/5cec1bcff265da1b8f1aa08f#heading-23"}]}]},{"type":"element","tag":"h3","props":{"id":"宽松等号的隐式转换"},"children":[{"type":"text","value":"宽松等号（==）的隐式转换"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"=="}]},{"type":"text","value":"时，如果等号两侧的数据类型相同，那么比较结果与"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"==="}]},{"type":"text","value":"相同，否则会发生隐式转换"}]},{"type":"element","tag":"h4","props":{"id":"nan"},"children":[{"type":"text","value":"NaN"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NaN"}]},{"type":"text","value":"和任何类型比较都会返回"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"，包括他自己"}]},{"type":"element","tag":"code","props":{"code":"NaN == NaN // false\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"NaN == NaN // false\n"}]}]}]},{"type":"element","tag":"h4","props":{"id":"boolean类型与其他类型进行比较"},"children":[{"type":"text","value":"Boolean类型与其他类型进行比较"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"只要"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Boolean"}]},{"type":"text","value":"类型参与比较，该"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Boolean"}]},{"type":"text","value":"类型的值都会被转换为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Number"}]},{"type":"text","value":"类型，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"1"}]},{"type":"text","value":"转为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"0"}]},{"type":"text","value":"转为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]}]},{"type":"element","tag":"code","props":{"code":"false == 0 // true\ntrue == 1 // true\ntrue == 2 // false\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"false == 0 // true\ntrue == 1 // true\ntrue == 2 // false\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果在使用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"if"}]},{"type":"text","value":"判断时，我们使用数字作为判断条件"}]},{"type":"element","tag":"code","props":{"code":"var x = 10;\nif (x) {\n    // ...\n}\nif (x == true) {\n    // ...\n}\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var x = 10;\nif (x) {\n    // ...\n}\nif (x == true) {\n    // ...\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我们会发现，第一个判断结果为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"，而第二个的结果为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"，这就是因为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"被转换为了"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"1"}]},{"type":"text","value":"，判断条件变为了"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"x == 1"}]}]},{"type":"element","tag":"h4","props":{"id":"number类型和string类型进行比较"},"children":[{"type":"text","value":"Number类型和String类型进行比较"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这两者进行比较时，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"String"}]},{"type":"text","value":"类型会被转为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Number"}]},{"type":"text","value":"类型，除了纯数字字符串正常转换为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Number"}]},{"type":"text","value":"类型外，空字符串"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"''"}]},{"type":"text","value":"转为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"0"}]},{"type":"text","value":"，科学计数法（例如"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"1e11"}]},{"type":"text","value":"）正常转换，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Infinity"}]},{"type":"text","value":"正常转换，其他全部转换为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NaN"}]}]},{"type":"element","tag":"code","props":{"code":"'' == 0 // true\n'123' == 123 // true\n'1e11' == 1e11 // true\nInfinity == 'Infinity' // true\ntrue == '1' // true\nfalse == '0' // true\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"'' == 0 // true\n'123' == 123 // true\n'1e11' == 1e11 // true\nInfinity == 'Infinity' // true\ntrue == '1' // true\nfalse == '0' // true\n"}]}]}]},{"type":"element","tag":"h4","props":{"id":"null与undefined-1"},"children":[{"type":"text","value":"null与undefined"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"除"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null == undefined"}]},{"type":"text","value":"结果为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"外，其他任何类型和"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]},{"type":"text","value":"或"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"undefined"}]},{"type":"text","value":"比较都为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]}]},{"type":"element","tag":"h4","props":{"id":"基本类型与引用类型比较"},"children":[{"type":"text","value":"基本类型与引用类型比较"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"ToPrimitive规则"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先我们要先了解"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ToPrimitive"}]},{"type":"text","value":"规则，即引用类型转为基本类型"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"当引用类型需要被转为基本类型时，它会先查找对象的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"valueOf"}]},{"type":"text","value":"方法，如果该方法返回基本类型的值，则"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ToPrimitive"}]},{"type":"text","value":"的结果就是这个值"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"valueOf"}]},{"type":"text","value":"不存在或者"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"valueOf"}]},{"type":"text","value":"方法返回的不是基本类型，就会尝试调用对象的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"toString"}]},{"type":"text","value":"方法，然后使用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"toString"}]},{"type":"text","value":"的返回值作为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ToPrimitive"}]},{"type":"text","value":"的结果"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"若"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"valueOf"}]},{"type":"text","value":"和"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"toString"}]},{"type":"text","value":"都不存在，或者没有返回基本类型，则抛出"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TypeError"}]},{"type":"text","value":"异常"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对于不同的引用类型，该过程会有些许不同，比如"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Date"}]},{"type":"text","value":"会先调用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"toString"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"引用类型转换为不同的基本类型也会有一些不同，比如："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"引用类型转换为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Number"}]},{"type":"text","value":"类型，先调用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"valueOf"}]},{"type":"text","value":"，再调用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"toString"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"引用类型转换为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"String"}]},{"type":"text","value":"类型，先调用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"toString"}]},{"type":"text","value":"，再调用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"valueOf"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"具体请参考"},{"type":"element","tag":"a","props":{"href":"https://www.ecma-international.org/ecma-262/6.0/#sec-toprimitive","rel":["nofollow"]},"children":[{"type":"text","value":"ECMA标准"}]}]}]},{"type":"element","tag":"code","props":{"code":"Number([]); // 0\nNumber([10]); // 10\n\nvar obj = {\n    valueOf: () => { return 10; },\n    toString: () => { return -10; }\n};\nNumber(obj); // 10\nString(obj); // -10\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"Number([]); // 0\nNumber([10]); // 10\n\nvar obj = {\n    valueOf: () => { return 10; },\n    toString: () => { return -10; }\n};\nNumber(obj); // 10\nString(obj); // -10\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"基本类型与引用类型比较"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"比较时，引用类型会依据"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ToPrimitive"}]},{"type":"text","value":"规则转换为基本类型"}]},{"type":"element","tag":"code","props":{"code":"var a = {};\nvar b = [1, 2, 3];\n\na == '[object Object]'; // true\na.toString(); // [object Object]\nb == '1,2,3' // true\nb.toString(); // \"1,2,3\"\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var a = {};\nvar b = [1, 2, 3];\n\na == '[object Object]'; // true\na.toString(); // [object Object]\nb == '1,2,3' // true\nb.toString(); // \"1,2,3\"\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"判断数据类型"},"children":[{"type":"text","value":"判断数据类型"}]},{"type":"element","tag":"h3","props":{"id":"typeof"},"children":[{"type":"text","value":"typeof"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"typeof"}]},{"type":"text","value":"只能用来判断以下几个类型"}]},{"type":"element","tag":"code","props":{"code":"typeof 'str';  // string\ntypeof 123;  // number\ntypeof true;  // boolean\ntypeof Symbol();  // symbol\ntypeof undefined;  // undefined\ntypeof function () {} // function\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"typeof 'str';  // string\ntypeof 123;  // number\ntypeof true;  // boolean\ntypeof Symbol();  // symbol\ntypeof undefined;  // undefined\ntypeof function () {} // function\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对于引用类型（数组、对象等）以及"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]},{"type":"text","value":"，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"typeof"}]},{"type":"text","value":"的返回值均为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"object"}]}]},{"type":"element","tag":"h3","props":{"id":"instanceof"},"children":[{"type":"text","value":"instanceof"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"instanceof"}]},{"type":"text","value":"可以判断引用类型的具体类型"}]},{"type":"element","tag":"code","props":{"code":"[] instanceof Array; // true\n/1/ instanceof RegExp; // true\nnew Date() instanceof Date; // true\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[] instanceof Array; // true\n/1/ instanceof RegExp; // true\nnew Date() instanceof Date; // true\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但是，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"instanceof"}]},{"type":"text","value":"同样没法判断"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]}]},{"type":"element","tag":"code","props":{"code":"null instanceof null; // Uncaught TypeError: Right-hand side of 'instanceof' is not an object\nnull instanceof Object; // false\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"null instanceof null; // Uncaught TypeError: Right-hand side of 'instanceof' is not an object\nnull instanceof Object; // false\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在"},{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof","rel":["nofollow"]},"children":[{"type":"text","value":"MDN"}]},{"type":"text","value":"中，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"instanceof"}]},{"type":"text","value":"被这样描述："}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"instanceof"}]}]},{"type":"text","value":" "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"运算符"}]},{"type":"text","value":"用于检测构造函数的 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"prototype"}]},{"type":"text","value":" 属性是否出现在某个实例对象的原型链上。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"也就是说"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"instanceof"}]},{"type":"text","value":"设计的初衷并不是用来检测数据类型的，因此很多类型它也无法判断"}]},{"type":"element","tag":"h3","props":{"id":"objectprototypetostringcall"},"children":[{"type":"text","value":"Object.prototype.toString.call()"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Object.prototype.toString.call()"}]},{"type":"text","value":"利用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"call"}]},{"type":"text","value":"来改变"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"this"}]},{"type":"text","value":"的指向，可以让该方法能够获取到任意变量的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[[class]]"}]},{"type":"text","value":"属性，通过该属性可以判断所有"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"JavaScript"}]},{"type":"text","value":"的内置类型"}]},{"type":"element","tag":"code","props":{"code":"Object.prototype.toString.call(null); // [object Null]\nObject.prototype.toString.call(undefined); // [object Undefined]\nObject.prototype.toString.call(123); // [object Number]\nObject.prototype.toString.call(new Date()); // [object Date]\n// ...\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"Object.prototype.toString.call(null); // [object Null]\nObject.prototype.toString.call(undefined); // [object Undefined]\nObject.prototype.toString.call(123); // [object Number]\nObject.prototype.toString.call(new Date()); // [object Date]\n// ...\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但是该方法并不能判断自定义类型，而"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"instanceof"}]},{"type":"text","value":"可以实现对自定义类型的判断"}]},{"type":"element","tag":"code","props":{"code":"function Person() {}\nObject.prototype.toString.call(new Person()); // [object Object]\nnew Person() instanceof Person; // true\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"function Person() {}\nObject.prototype.toString.call(new Person()); // [object Object]\nnew Person() instanceof Person; // true\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"参考资料"},"children":[{"type":"text","value":"参考资料"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://juejin.im/post/5cec1bcff265da1b8f1aa08f#heading-34","rel":["nofollow"]},"children":[{"type":"text","value":"【JS 进阶】你真的掌握变量和类型了吗"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://juejin.im/post/5bbda2b36fb9a05cfd27f55e","rel":["nofollow"]},"children":[{"type":"text","value":"JavaScript的数据类型及其检测"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.ruanyifeng.com/blog/2014/03/undefined-vs-null.html","rel":["nofollow"]},"children":[{"type":"text","value":"undefined与null的区别"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://juejin.im/post/5bc5c752f265da0a9a399a62","rel":["nofollow"]},"children":[{"type":"text","value":"从一道面试题说起—js隐式转换踩坑合集"}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"数据类型","depth":2,"text":"数据类型"},{"id":"基本类型和引用类型的区别","depth":2,"text":"基本类型和引用类型的区别","children":[{"id":"存放位置不同","depth":3,"text":"存放位置不同"},{"id":"基本类型具有不可变性","depth":3,"text":"基本类型具有不可变性"},{"id":"值比较和引用比较","depth":3,"text":"值比较和引用比较"},{"id":"赋值","depth":3,"text":"赋值"}]},{"id":"null与undefined","depth":2,"text":"null与undefined"},{"id":"symbol类型","depth":2,"text":"Symbol类型"},{"id":"数据类型转换","depth":2,"text":"数据类型转换","children":[{"id":"宽松等号的隐式转换","depth":3,"text":"宽松等号（==）的隐式转换"}]},{"id":"判断数据类型","depth":2,"text":"判断数据类型","children":[{"id":"typeof","depth":3,"text":"typeof"},{"id":"instanceof","depth":3,"text":"instanceof"},{"id":"objectprototypetostringcall","depth":3,"text":"Object.prototype.toString.call()"}]},{"id":"参考资料","depth":2,"text":"参考资料"}]}},"_type":"markdown","_id":"content:2020:deep-in-js-data-type.md","_source":"content","_file":"2020/deep-in-js-data-type.md","_extension":"md"},"hash":"0v6CxxnYRN"}