{"parsed":{"_path":"/2020/ts-singleton","_dir":"2020","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"TypeScript实现设计模式——单例模式","description":"最近在学习设计模式，又正好刚上手了 typescript，就想要用 ts 实现一下试试。","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最近在学习设计模式，又正好刚上手了 typescript，就想要用 ts 实现一下试试。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"单例模式的目的是限制一个类只能被实例化一次，提供一个全局的访问点。单例模式又被分为懒汉单例模式和饿汉单例模式，懒汉单例模式就是在第一次调用时实例化，饿汉单例模式是类加载时就实例化。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"核心要点："}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"把一个静态私有变量确立为唯一的实例，外部通过静态方法访问这个唯一的实例，并把构造函数设为私有。"}]},{"type":"element","tag":"h2","props":{"id":"懒汉单例模式"},"children":[{"type":"text","value":"懒汉单例模式"}]},{"type":"element","tag":"code","props":{"code":"class PeopleSingle {\n  /**核心 - 一个接收实例的静态成员 */\n  private static people: PeopleSingle;\n  private name: string;\n\n  /**核心 - 私有构造函数 */\n  private constructor(name: string) {\n    this.name = name;\n  }\n\n  /**核心 - 获取实例 */\n  public static getInstance(): PeopleSingle {\n    if (this.people == null) {\n      this.people = new PeopleSingle('金闪闪');\n    }\n    return PeopleSingle.people;\n  }\n\n  public say(): void {\n    console.log(`I'm ${this.name}.`);\n  }\n}\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"class PeopleSingle {\n  /**核心 - 一个接收实例的静态成员 */\n  private static people: PeopleSingle;\n  private name: string;\n\n  /**核心 - 私有构造函数 */\n  private constructor(name: string) {\n    this.name = name;\n  }\n\n  /**核心 - 获取实例 */\n  public static getInstance(): PeopleSingle {\n    if (this.people == null) {\n      this.people = new PeopleSingle('金闪闪');\n    }\n    return PeopleSingle.people;\n  }\n\n  public say(): void {\n    console.log(`I'm ${this.name}.`);\n  }\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"测试"}]},{"type":"element","tag":"code","props":{"code":"let people = PeopleSingle.getInstance();\npeople.say();\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let people = PeopleSingle.getInstance();\npeople.say();\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"饿汉单例模式"},"children":[{"type":"text","value":"饿汉单例模式"}]},{"type":"element","tag":"code","props":{"code":"class PeopleSingle {\n  /**核心 - 一个接收实例的静态成员，直接创建好实例 */\n  private static people: PeopleSingle = new PeopleSingle('金闪闪');\n  private name: string;\n\n  /**核心 - 私有构造函数 */\n  private constructor(name: string) {\n    this.name = name;\n  }\n\n  /**核心 - 获取实例 */\n  public static getInstance(): PeopleSingle {\n    return PeopleSingle.people;\n  }\n\n  public say(): void {\n    console.log(`I'm ${this.name}.`);\n  }\n}\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"class PeopleSingle {\n  /**核心 - 一个接收实例的静态成员，直接创建好实例 */\n  private static people: PeopleSingle = new PeopleSingle('金闪闪');\n  private name: string;\n\n  /**核心 - 私有构造函数 */\n  private constructor(name: string) {\n    this.name = name;\n  }\n\n  /**核心 - 获取实例 */\n  public static getInstance(): PeopleSingle {\n    return PeopleSingle.people;\n  }\n\n  public say(): void {\n    console.log(`I'm ${this.name}.`);\n  }\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"测试"}]},{"type":"element","tag":"code","props":{"code":"let people = PeopleSingle.getInstance();\npeople.say();\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let people = PeopleSingle.getInstance();\npeople.say();\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"举的例子不是特别好，但是意思是这个意思。"}]}]},"date":"2020/03/19 21:51:43","tags":["typescript","设计模式"],"category":"技术","summary":"最近在学习设计模式，又正好刚上手了typescript，就想要用ts实现一下试试。","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最近在学习设计模式，又正好刚上手了 typescript，就想要用 ts 实现一下试试。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"单例模式的目的是限制一个类只能被实例化一次，提供一个全局的访问点。单例模式又被分为懒汉单例模式和饿汉单例模式，懒汉单例模式就是在第一次调用时实例化，饿汉单例模式是类加载时就实例化。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"核心要点："}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"把一个静态私有变量确立为唯一的实例，外部通过静态方法访问这个唯一的实例，并把构造函数设为私有。"}]},{"type":"element","tag":"h2","props":{"id":"懒汉单例模式"},"children":[{"type":"text","value":"懒汉单例模式"}]},{"type":"element","tag":"code","props":{"code":"class PeopleSingle {\n  /**核心 - 一个接收实例的静态成员 */\n  private static people: PeopleSingle;\n  private name: string;\n\n  /**核心 - 私有构造函数 */\n  private constructor(name: string) {\n    this.name = name;\n  }\n\n  /**核心 - 获取实例 */\n  public static getInstance(): PeopleSingle {\n    if (this.people == null) {\n      this.people = new PeopleSingle('金闪闪');\n    }\n    return PeopleSingle.people;\n  }\n\n  public say(): void {\n    console.log(`I'm ${this.name}.`);\n  }\n}\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"class PeopleSingle {\n  /**核心 - 一个接收实例的静态成员 */\n  private static people: PeopleSingle;\n  private name: string;\n\n  /**核心 - 私有构造函数 */\n  private constructor(name: string) {\n    this.name = name;\n  }\n\n  /**核心 - 获取实例 */\n  public static getInstance(): PeopleSingle {\n    if (this.people == null) {\n      this.people = new PeopleSingle('金闪闪');\n    }\n    return PeopleSingle.people;\n  }\n\n  public say(): void {\n    console.log(`I'm ${this.name}.`);\n  }\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"测试"}]},{"type":"element","tag":"code","props":{"code":"let people = PeopleSingle.getInstance();\npeople.say();\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let people = PeopleSingle.getInstance();\npeople.say();\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"饿汉单例模式"},"children":[{"type":"text","value":"饿汉单例模式"}]},{"type":"element","tag":"code","props":{"code":"class PeopleSingle {\n  /**核心 - 一个接收实例的静态成员，直接创建好实例 */\n  private static people: PeopleSingle = new PeopleSingle('金闪闪');\n  private name: string;\n\n  /**核心 - 私有构造函数 */\n  private constructor(name: string) {\n    this.name = name;\n  }\n\n  /**核心 - 获取实例 */\n  public static getInstance(): PeopleSingle {\n    return PeopleSingle.people;\n  }\n\n  public say(): void {\n    console.log(`I'm ${this.name}.`);\n  }\n}\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"class PeopleSingle {\n  /**核心 - 一个接收实例的静态成员，直接创建好实例 */\n  private static people: PeopleSingle = new PeopleSingle('金闪闪');\n  private name: string;\n\n  /**核心 - 私有构造函数 */\n  private constructor(name: string) {\n    this.name = name;\n  }\n\n  /**核心 - 获取实例 */\n  public static getInstance(): PeopleSingle {\n    return PeopleSingle.people;\n  }\n\n  public say(): void {\n    console.log(`I'm ${this.name}.`);\n  }\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"测试"}]},{"type":"element","tag":"code","props":{"code":"let people = PeopleSingle.getInstance();\npeople.say();\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let people = PeopleSingle.getInstance();\npeople.say();\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"举的例子不是特别好，但是意思是这个意思。"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"懒汉单例模式","depth":2,"text":"懒汉单例模式"},{"id":"饿汉单例模式","depth":2,"text":"饿汉单例模式"}]}},"_type":"markdown","_id":"content:2020:ts-singleton.md","_source":"content","_file":"2020/ts-singleton.md","_extension":"md"},"hash":"ipNAXuQwPG"}