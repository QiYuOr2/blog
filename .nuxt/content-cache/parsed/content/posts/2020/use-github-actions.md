{"parsed":{"_path":"/posts/2020/use-github-actions","_dir":"2020","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"使用Github Actions将Vue项目部署到Github Pages","description":"GitHub Actions 是 GitHub 的持续集成服务，是一个非常强大的功能，用它可以实现很多自动化功能。现在我们来使用 Github Actions 将我们做好的 Vue 项目部署到 Github Pages 上。","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"GitHub Actions 是 GitHub 的持续集成服务，是一个非常强大的功能，用它可以实现很多自动化功能。现在我们来使用 Github Actions 将我们做好的 Vue 项目部署到 Github Pages 上。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本项目源码："},{"type":"element","tag":"a","props":{"href":"https://github.com/qiyuor2/github-actions-demo","rel":["nofollow"]},"children":[{"type":"text","value":"qiyuor2/github-actions-demo"}]}]},{"type":"element","tag":"h2","props":{"id":"github-actions-是什么"},"children":[{"type":"text","value":"Github Actions 是什么？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"持续集成通常由很多操作组成，比如运行单元测试、登录远程服务器、打包代码等等，Github 将这些操作称为 actions。\n这些 actions 在不同项目中也是类似甚至是完全相同的，是完全可以共享的。而 Github 就根据这个特点创建了一个 actions 市场，可以发布自己的 actions 和使用其他人的写好的 actions。"}]},{"type":"element","tag":"h2","props":{"id":"基本概念"},"children":[{"type":"text","value":"基本概念"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"workflow：持续集成一次运行的过程，即一个工作流程"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"job：任务，一个工作流程由一个或多个任务组成"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"step：步骤，每个任务由多个步骤组成，逐步完成"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"action：动作，每个步骤可以执行一个或多个动作"}]}]},{"type":"element","tag":"h2","props":{"id":"创建一个-vue-项目"},"children":[{"type":"text","value":"创建一个 Vue 项目"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用 Vue CLI 创建一个 Vue 项目"}]},{"type":"element","tag":"code","props":{"code":"vue create github-actions-demo\ncd github-actions-demo\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"vue create github-actions-demo\ncd github-actions-demo\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在项目根目录下创建一个"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"vue.config.js"}]},{"type":"text","value":"，修改"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"publicPath"}]},{"type":"text","value":"为将要发布的 Github Pages 的子路径，比如发布后的地址"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"https://qiyuor2.github.io/github-actions-demo/"}]},{"type":"text","value":"，那么"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"publicPath"}]},{"type":"text","value":"就要设置为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/github-actions-demo/"}]}]},{"type":"element","tag":"code","props":{"code":"module.exports = {\n  publicPath: '/github-actions-demo/',\n};\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"module.exports = {\n  publicPath: '/github-actions-demo/',\n};\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"编写-workflow-文件"},"children":[{"type":"text","value":"编写 workflow 文件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"workflow 文件采用 YAML 格式，后缀为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".yml"}]},{"type":"text","value":"，在项目根目录下创建"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".github/workflows/"}]},{"type":"text","value":"目录，Github 只要发现该目录中由 yml 文件就会自动运行该文件。\n创建"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ci.yml"}]}]},{"type":"element","tag":"code","props":{"code":"# 该workflow的名称，可以随意填写\nname: Build And Deploy To Github Pages\n\n# workflow的触发事件，这里代表main分支的push事件触发\non:\n  push:\n    branches: [main]\n\n# 任务\njobs:\n  # build-and-deploy 为任务的ID\n  build-and-deploy:\n    # 运行所需要的环境\n    runs-on: ubuntu-latest\n\n    steps:\n      # 步骤名\n      - name: Checkout\n        # 使用的actions脚本，这里是官方提供的获取源码脚本\n        uses: actions/checkout@v2.3.1\n        # 这个为使用 JamesIves/github-pages-deploy-action脚本所需要的配置\n        with:\n          persist-credentials: false\n\n      # 执行npm脚本打包项目\n      - name: Install and Build\n        run: |\n          npm install\n          npm run build\n\n      # 执行JamesIves/github-pages-deploy-action将项目发布到Github Pages\n      - name: Deploy\n        uses: JamesIves/github-pages-deploy-action@3.7.1\n        with:\n          # 该workflow需要操作repo，因此需要一个密钥，下面会讲到如何获取这个密钥\n          ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}\n          # 发布到的分支\n          BRANCH: gh-pages\n          # 要发布的文件夹\n          FOLDER: dist\n","language":"yml"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 该workflow的名称，可以随意填写\nname: Build And Deploy To Github Pages\n\n# workflow的触发事件，这里代表main分支的push事件触发\non:\n  push:\n    branches: [main]\n\n# 任务\njobs:\n  # build-and-deploy 为任务的ID\n  build-and-deploy:\n    # 运行所需要的环境\n    runs-on: ubuntu-latest\n\n    steps:\n      # 步骤名\n      - name: Checkout\n        # 使用的actions脚本，这里是官方提供的获取源码脚本\n        uses: actions/checkout@v2.3.1\n        # 这个为使用 JamesIves/github-pages-deploy-action脚本所需要的配置\n        with:\n          persist-credentials: false\n\n      # 执行npm脚本打包项目\n      - name: Install and Build\n        run: |\n          npm install\n          npm run build\n\n      # 执行JamesIves/github-pages-deploy-action将项目发布到Github Pages\n      - name: Deploy\n        uses: JamesIves/github-pages-deploy-action@3.7.1\n        with:\n          # 该workflow需要操作repo，因此需要一个密钥，下面会讲到如何获取这个密钥\n          ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}\n          # 发布到的分支\n          BRANCH: gh-pages\n          # 要发布的文件夹\n          FOLDER: dist\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"获取密钥并存储到-github-仓库中"},"children":[{"type":"text","value":"获取密钥并存储到 Github 仓库中"}]},{"type":"element","tag":"h3","props":{"id":"创建密钥"},"children":[{"type":"text","value":"创建密钥"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"进入 Github 的 Settings 中"},{"type":"element","tag":"a","props":{"href":"https://github.com/settings/","rel":["nofollow"]},"children":[{"type":"text","value":"https://github.com/settings/"}]},{"type":"text","value":"，依次点击"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":" Developer settings"}]},{"type":"text","value":"、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Personal access tokens"}]},{"type":"text","value":"。然后点击"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Generate new token"}]},{"type":"text","value":"创建。因为要操作仓库，所以需要勾选"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"repo"}]},{"type":"text","value":"权限。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"具体请参考："},{"type":"element","tag":"a","props":{"href":"https://docs.github.com/cn/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token","rel":["nofollow"]},"children":[{"type":"text","value":"创建个人访问令牌"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"请及时保存生成的密钥"}]}]},{"type":"element","tag":"h3","props":{"id":"将密钥存储到-github-仓库"},"children":[{"type":"text","value":"将密钥存储到 Github 仓库"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先创建一个 Github 仓库，然后到仓库的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Settings/Secret"}]},{"type":"text","value":"下，点击"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"New repository secret"}]},{"type":"text","value":"将刚才保存的密钥保存，并命名为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ACCESS_TOKEN"}]},{"type":"text","value":"（注意，如果这里的命名更改了，前面的 yml 文件中的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"${{ secrets.ACCESS_TOKEN }}"}]},{"type":"text","value":"也要更改）"}]},{"type":"element","tag":"h3","props":{"id":"推送仓库"},"children":[{"type":"text","value":"推送仓库"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"根据 Github 上的提示，将准备好的本地仓库推送之后就会自动执行 workflow。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我们可以到 Actions 中实时查看运行日志。"}]},{"type":"element","tag":"h2","props":{"id":"一个小问题"},"children":[{"type":"text","value":"一个小问题"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"workflow 执行成功后我们仍然有可能访问对应网址("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"https://qiyuor2.github.io/github-actions-demo"}]},{"type":"text","value":")时显示 404。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这时候我们需要到 Github 仓库中的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Settings/Options"}]},{"type":"text","value":"下，找到"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Github Pages"}]},{"type":"text","value":"，点击"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Choose a theme"}]},{"type":"text","value":"选择任意一个主题即可正常访问。"}]},{"type":"element","tag":"h2","props":{"id":"参考文章"},"children":[{"type":"text","value":"参考文章"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html","rel":["nofollow"]},"children":[{"type":"text","value":"GitHub Actions 入门教程"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://cli.vuejs.org/zh/config/#publicpath","rel":["nofollow"]},"children":[{"type":"text","value":"Vue CLI 配置参考"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.github.com/cn/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token","rel":["nofollow"]},"children":[{"type":"text","value":"创建个人访问令牌"}]}]}]}]},"date":"2020/11/16 21:44:13","tags":["Github Actions","Github Pages","Github"],"category":"工具","summary":"GitHub Actions 是 GitHub 的持续集成服务，是一个非常强大的功能，用它可以实现很多自动化功能。现在我们来使用Github Actions将我们做好的Vue项目部署到Github Pages上。","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"GitHub Actions 是 GitHub 的持续集成服务，是一个非常强大的功能，用它可以实现很多自动化功能。现在我们来使用 Github Actions 将我们做好的 Vue 项目部署到 Github Pages 上。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本项目源码："},{"type":"element","tag":"a","props":{"href":"https://github.com/qiyuor2/github-actions-demo","rel":["nofollow"]},"children":[{"type":"text","value":"qiyuor2/github-actions-demo"}]}]},{"type":"element","tag":"h2","props":{"id":"github-actions-是什么"},"children":[{"type":"text","value":"Github Actions 是什么？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"持续集成通常由很多操作组成，比如运行单元测试、登录远程服务器、打包代码等等，Github 将这些操作称为 actions。\n这些 actions 在不同项目中也是类似甚至是完全相同的，是完全可以共享的。而 Github 就根据这个特点创建了一个 actions 市场，可以发布自己的 actions 和使用其他人的写好的 actions。"}]},{"type":"element","tag":"h2","props":{"id":"基本概念"},"children":[{"type":"text","value":"基本概念"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"workflow：持续集成一次运行的过程，即一个工作流程"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"job：任务，一个工作流程由一个或多个任务组成"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"step：步骤，每个任务由多个步骤组成，逐步完成"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"action：动作，每个步骤可以执行一个或多个动作"}]}]},{"type":"element","tag":"h2","props":{"id":"创建一个-vue-项目"},"children":[{"type":"text","value":"创建一个 Vue 项目"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用 Vue CLI 创建一个 Vue 项目"}]},{"type":"element","tag":"code","props":{"code":"vue create github-actions-demo\ncd github-actions-demo\n","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c1f1e6"},"children":[{"type":"text","value":"vue create github-actions-demo"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-487eaa"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"class":"ct-c1f1e6"},"children":[{"type":"text","value":" github-actions-demo"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在项目根目录下创建一个"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"vue.config.js"}]},{"type":"text","value":"，修改"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"publicPath"}]},{"type":"text","value":"为将要发布的 Github Pages 的子路径，比如发布后的地址"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"https://qiyuor2.github.io/github-actions-demo/"}]},{"type":"text","value":"，那么"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"publicPath"}]},{"type":"text","value":"就要设置为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/github-actions-demo/"}]}]},{"type":"element","tag":"code","props":{"code":"module.exports = {\n  publicPath: '/github-actions-demo/',\n};\n","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-487eaa"},"children":[{"type":"text","value":"module"}]},{"type":"element","tag":"span","props":{"class":"ct-c1f1e6"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-487eaa"},"children":[{"type":"text","value":"exports"}]},{"type":"element","tag":"span","props":{"class":"ct-c1f1e6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f60aee"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-c1f1e6"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c1f1e6"},"children":[{"type":"text","value":"  publicPath: "}]},{"type":"element","tag":"span","props":{"class":"ct-404f4f"},"children":[{"type":"text","value":"'/github-actions-demo/'"}]},{"type":"element","tag":"span","props":{"class":"ct-c1f1e6"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c1f1e6"},"children":[{"type":"text","value":"};"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"编写-workflow-文件"},"children":[{"type":"text","value":"编写 workflow 文件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"workflow 文件采用 YAML 格式，后缀为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".yml"}]},{"type":"text","value":"，在项目根目录下创建"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".github/workflows/"}]},{"type":"text","value":"目录，Github 只要发现该目录中由 yml 文件就会自动运行该文件。\n创建"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ci.yml"}]}]},{"type":"element","tag":"code","props":{"code":"# 该workflow的名称，可以随意填写\nname: Build And Deploy To Github Pages\n\n# workflow的触发事件，这里代表main分支的push事件触发\non:\n  push:\n    branches: [main]\n\n# 任务\njobs:\n  # build-and-deploy 为任务的ID\n  build-and-deploy:\n    # 运行所需要的环境\n    runs-on: ubuntu-latest\n\n    steps:\n      # 步骤名\n      - name: Checkout\n        # 使用的actions脚本，这里是官方提供的获取源码脚本\n        uses: actions/checkout@v2.3.1\n        # 这个为使用 JamesIves/github-pages-deploy-action脚本所需要的配置\n        with:\n          persist-credentials: false\n\n      # 执行npm脚本打包项目\n      - name: Install and Build\n        run: |\n          npm install\n          npm run build\n\n      # 执行JamesIves/github-pages-deploy-action将项目发布到Github Pages\n      - name: Deploy\n        uses: JamesIves/github-pages-deploy-action@3.7.1\n        with:\n          # 该workflow需要操作repo，因此需要一个密钥，下面会讲到如何获取这个密钥\n          ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}\n          # 发布到的分支\n          BRANCH: gh-pages\n          # 要发布的文件夹\n          FOLDER: dist\n","language":"yml"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# 该workflow的名称，可以随意填写\nname: Build And Deploy To Github Pages\n\n# workflow的触发事件，这里代表main分支的push事件触发\non:\n  push:\n    branches: [main]\n\n# 任务\njobs:\n  # build-and-deploy 为任务的ID\n  build-and-deploy:\n    # 运行所需要的环境\n    runs-on: ubuntu-latest\n\n    steps:\n      # 步骤名\n      - name: Checkout\n        # 使用的actions脚本，这里是官方提供的获取源码脚本\n        uses: actions/checkout@v2.3.1\n        # 这个为使用 JamesIves/github-pages-deploy-action脚本所需要的配置\n        with:\n          persist-credentials: false\n\n      # 执行npm脚本打包项目\n      - name: Install and Build\n        run: |\n          npm install\n          npm run build\n\n      # 执行JamesIves/github-pages-deploy-action将项目发布到Github Pages\n      - name: Deploy\n        uses: JamesIves/github-pages-deploy-action@3.7.1\n        with:\n          # 该workflow需要操作repo，因此需要一个密钥，下面会讲到如何获取这个密钥\n          ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}\n          # 发布到的分支\n          BRANCH: gh-pages\n          # 要发布的文件夹\n          FOLDER: dist"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"获取密钥并存储到-github-仓库中"},"children":[{"type":"text","value":"获取密钥并存储到 Github 仓库中"}]},{"type":"element","tag":"h3","props":{"id":"创建密钥"},"children":[{"type":"text","value":"创建密钥"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"进入 Github 的 Settings 中"},{"type":"element","tag":"a","props":{"href":"https://github.com/settings/","rel":["nofollow"]},"children":[{"type":"text","value":"https://github.com/settings/"}]},{"type":"text","value":"，依次点击"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":" Developer settings"}]},{"type":"text","value":"、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Personal access tokens"}]},{"type":"text","value":"。然后点击"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Generate new token"}]},{"type":"text","value":"创建。因为要操作仓库，所以需要勾选"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"repo"}]},{"type":"text","value":"权限。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"具体请参考："},{"type":"element","tag":"a","props":{"href":"https://docs.github.com/cn/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token","rel":["nofollow"]},"children":[{"type":"text","value":"创建个人访问令牌"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"请及时保存生成的密钥"}]}]},{"type":"element","tag":"h3","props":{"id":"将密钥存储到-github-仓库"},"children":[{"type":"text","value":"将密钥存储到 Github 仓库"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先创建一个 Github 仓库，然后到仓库的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Settings/Secret"}]},{"type":"text","value":"下，点击"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"New repository secret"}]},{"type":"text","value":"将刚才保存的密钥保存，并命名为"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ACCESS_TOKEN"}]},{"type":"text","value":"（注意，如果这里的命名更改了，前面的 yml 文件中的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"${{ secrets.ACCESS_TOKEN }}"}]},{"type":"text","value":"也要更改）"}]},{"type":"element","tag":"h3","props":{"id":"推送仓库"},"children":[{"type":"text","value":"推送仓库"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"根据 Github 上的提示，将准备好的本地仓库推送之后就会自动执行 workflow。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我们可以到 Actions 中实时查看运行日志。"}]},{"type":"element","tag":"h2","props":{"id":"一个小问题"},"children":[{"type":"text","value":"一个小问题"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"workflow 执行成功后我们仍然有可能访问对应网址("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"https://qiyuor2.github.io/github-actions-demo"}]},{"type":"text","value":")时显示 404。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这时候我们需要到 Github 仓库中的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Settings/Options"}]},{"type":"text","value":"下，找到"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Github Pages"}]},{"type":"text","value":"，点击"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Choose a theme"}]},{"type":"text","value":"选择任意一个主题即可正常访问。"}]},{"type":"element","tag":"h2","props":{"id":"参考文章"},"children":[{"type":"text","value":"参考文章"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html","rel":["nofollow"]},"children":[{"type":"text","value":"GitHub Actions 入门教程"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://cli.vuejs.org/zh/config/#publicpath","rel":["nofollow"]},"children":[{"type":"text","value":"Vue CLI 配置参考"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.github.com/cn/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token","rel":["nofollow"]},"children":[{"type":"text","value":"创建个人访问令牌"}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-404f4f{color:#0A3069}.ct-f60aee{color:#CF222E}.ct-487eaa{color:#0550AE}.ct-c1f1e6{color:#24292F}.sepia .ct-c1f1e6{color:#F8F8F2}.dark .ct-c1f1e6{color:#C9D1D9}.sepia .ct-487eaa{color:#66D9EF}.dark .ct-487eaa{color:#79C0FF}.sepia .ct-f60aee{color:#F92672}.dark .ct-f60aee{color:#FF7B72}.sepia .ct-404f4f{color:#E6DB74}.dark .ct-404f4f{color:#A5D6FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"github-actions-是什么","depth":2,"text":"Github Actions 是什么？"},{"id":"基本概念","depth":2,"text":"基本概念"},{"id":"创建一个-vue-项目","depth":2,"text":"创建一个 Vue 项目"},{"id":"编写-workflow-文件","depth":2,"text":"编写 workflow 文件"},{"id":"获取密钥并存储到-github-仓库中","depth":2,"text":"获取密钥并存储到 Github 仓库中","children":[{"id":"创建密钥","depth":3,"text":"创建密钥"},{"id":"将密钥存储到-github-仓库","depth":3,"text":"将密钥存储到 Github 仓库"},{"id":"推送仓库","depth":3,"text":"推送仓库"}]},{"id":"一个小问题","depth":2,"text":"一个小问题"},{"id":"参考文章","depth":2,"text":"参考文章"}]}},"_type":"markdown","_id":"content:posts:2020:use-github-actions.md","_source":"content","_file":"posts/2020/use-github-actions.md","_extension":"md"},"hash":"iQYvW2L5Jl"}