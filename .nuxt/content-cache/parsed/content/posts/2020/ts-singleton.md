{"parsed":{"_path":"/posts/2020/ts-singleton","_dir":"2020","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"TypeScript实现设计模式——单例模式","description":"最近在学习设计模式，又正好刚上手了 typescript，就想要用 ts 实现一下试试。","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最近在学习设计模式，又正好刚上手了 typescript，就想要用 ts 实现一下试试。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"单例模式的目的是限制一个类只能被实例化一次，提供一个全局的访问点。单例模式又被分为懒汉单例模式和饿汉单例模式，懒汉单例模式就是在第一次调用时实例化，饿汉单例模式是类加载时就实例化。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"核心要点："}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"把一个静态私有变量确立为唯一的实例，外部通过静态方法访问这个唯一的实例，并把构造函数设为私有。"}]},{"type":"element","tag":"h2","props":{"id":"懒汉单例模式"},"children":[{"type":"text","value":"懒汉单例模式"}]},{"type":"element","tag":"code","props":{"code":"class PeopleSingle {\n  /**核心 - 一个接收实例的静态成员 */\n  private static people: PeopleSingle;\n  private name: string;\n\n  /**核心 - 私有构造函数 */\n  private constructor(name: string) {\n    this.name = name;\n  }\n\n  /**核心 - 获取实例 */\n  public static getInstance(): PeopleSingle {\n    if (this.people == null) {\n      this.people = new PeopleSingle('金闪闪');\n    }\n    return PeopleSingle.people;\n  }\n\n  public say(): void {\n    console.log(`I'm ${this.name}.`);\n  }\n}\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"class PeopleSingle {\n  /**核心 - 一个接收实例的静态成员 */\n  private static people: PeopleSingle;\n  private name: string;\n\n  /**核心 - 私有构造函数 */\n  private constructor(name: string) {\n    this.name = name;\n  }\n\n  /**核心 - 获取实例 */\n  public static getInstance(): PeopleSingle {\n    if (this.people == null) {\n      this.people = new PeopleSingle('金闪闪');\n    }\n    return PeopleSingle.people;\n  }\n\n  public say(): void {\n    console.log(`I'm ${this.name}.`);\n  }\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"测试"}]},{"type":"element","tag":"code","props":{"code":"let people = PeopleSingle.getInstance();\npeople.say();\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let people = PeopleSingle.getInstance();\npeople.say();\n"}]}]}]},{"type":"element","tag":"h2","props":{"id":"饿汉单例模式"},"children":[{"type":"text","value":"饿汉单例模式"}]},{"type":"element","tag":"code","props":{"code":"class PeopleSingle {\n  /**核心 - 一个接收实例的静态成员，直接创建好实例 */\n  private static people: PeopleSingle = new PeopleSingle('金闪闪');\n  private name: string;\n\n  /**核心 - 私有构造函数 */\n  private constructor(name: string) {\n    this.name = name;\n  }\n\n  /**核心 - 获取实例 */\n  public static getInstance(): PeopleSingle {\n    return PeopleSingle.people;\n  }\n\n  public say(): void {\n    console.log(`I'm ${this.name}.`);\n  }\n}\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"class PeopleSingle {\n  /**核心 - 一个接收实例的静态成员，直接创建好实例 */\n  private static people: PeopleSingle = new PeopleSingle('金闪闪');\n  private name: string;\n\n  /**核心 - 私有构造函数 */\n  private constructor(name: string) {\n    this.name = name;\n  }\n\n  /**核心 - 获取实例 */\n  public static getInstance(): PeopleSingle {\n    return PeopleSingle.people;\n  }\n\n  public say(): void {\n    console.log(`I'm ${this.name}.`);\n  }\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"测试"}]},{"type":"element","tag":"code","props":{"code":"let people = PeopleSingle.getInstance();\npeople.say();\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let people = PeopleSingle.getInstance();\npeople.say();\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"举的例子不是特别好，但是意思是这个意思。"}]}]},"date":"2020/03/19 21:51:43","tags":["typescript","设计模式"],"category":"技术","summary":"最近在学习设计模式，又正好刚上手了typescript，就想要用ts实现一下试试。","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最近在学习设计模式，又正好刚上手了 typescript，就想要用 ts 实现一下试试。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"单例模式的目的是限制一个类只能被实例化一次，提供一个全局的访问点。单例模式又被分为懒汉单例模式和饿汉单例模式，懒汉单例模式就是在第一次调用时实例化，饿汉单例模式是类加载时就实例化。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"核心要点："}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"把一个静态私有变量确立为唯一的实例，外部通过静态方法访问这个唯一的实例，并把构造函数设为私有。"}]},{"type":"element","tag":"h2","props":{"id":"懒汉单例模式"},"children":[{"type":"text","value":"懒汉单例模式"}]},{"type":"element","tag":"code","props":{"code":"class PeopleSingle {\n  /**核心 - 一个接收实例的静态成员 */\n  private static people: PeopleSingle;\n  private name: string;\n\n  /**核心 - 私有构造函数 */\n  private constructor(name: string) {\n    this.name = name;\n  }\n\n  /**核心 - 获取实例 */\n  public static getInstance(): PeopleSingle {\n    if (this.people == null) {\n      this.people = new PeopleSingle('金闪闪');\n    }\n    return PeopleSingle.people;\n  }\n\n  public say(): void {\n    console.log(`I'm ${this.name}.`);\n  }\n}\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-28c4ca"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-65a75a"},"children":[{"type":"text","value":"PeopleSingle"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-bf9113"},"children":[{"type":"text","value":"/**核心 - 一个接收实例的静态成员 */"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-591f75"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-591f75"},"children":[{"type":"text","value":"static"}]},{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-45af2e"},"children":[{"type":"text","value":"people"}]},{"type":"element","tag":"span","props":{"class":"ct-591f75"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-871ad1"},"children":[{"type":"text","value":"PeopleSingle"}]},{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-591f75"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-45af2e"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-591f75"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-651b15"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-bf9113"},"children":[{"type":"text","value":"/**核心 - 私有构造函数 */"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-28c4ca"},"children":[{"type":"text","value":"constructor"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5e9e5b"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7fab19"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":") {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-73c7cc"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":".name "}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" name;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-bf9113"},"children":[{"type":"text","value":"/**核心 - 获取实例 */"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":"static"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5c57aa"},"children":[{"type":"text","value":"getInstance"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"()"}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-65a75a"},"children":[{"type":"text","value":"PeopleSingle"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-73c7cc"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":".people "}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e5ec15"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":") {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-73c7cc"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":".people "}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5c57aa"},"children":[{"type":"text","value":"PeopleSingle"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ff51c8"},"children":[{"type":"text","value":"'金闪闪'"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" PeopleSingle.people;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5c57aa"},"children":[{"type":"text","value":"say"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"()"}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7fab19"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"    console."}]},{"type":"element","tag":"span","props":{"class":"ct-5c57aa"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ff51c8"},"children":[{"type":"text","value":"`I'm "}]},{"type":"element","tag":"span","props":{"class":"ct-25b9b8"},"children":[{"type":"text","value":"${"}]},{"type":"element","tag":"span","props":{"class":"ct-73c7cc"},"children":[{"type":"text","value":"this"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"测试"}]},{"type":"element","tag":"code","props":{"code":"let people = PeopleSingle.getInstance();\npeople.say();\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-28c4ca"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" people "}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" PeopleSingle."}]},{"type":"element","tag":"span","props":{"class":"ct-5c57aa"},"children":[{"type":"text","value":"getInstance"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"people."}]},{"type":"element","tag":"span","props":{"class":"ct-5c57aa"},"children":[{"type":"text","value":"say"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"();"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"饿汉单例模式"},"children":[{"type":"text","value":"饿汉单例模式"}]},{"type":"element","tag":"code","props":{"code":"class PeopleSingle {\n  /**核心 - 一个接收实例的静态成员，直接创建好实例 */\n  private static people: PeopleSingle = new PeopleSingle('金闪闪');\n  private name: string;\n\n  /**核心 - 私有构造函数 */\n  private constructor(name: string) {\n    this.name = name;\n  }\n\n  /**核心 - 获取实例 */\n  public static getInstance(): PeopleSingle {\n    return PeopleSingle.people;\n  }\n\n  public say(): void {\n    console.log(`I'm ${this.name}.`);\n  }\n}\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-28c4ca"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-65a75a"},"children":[{"type":"text","value":"PeopleSingle"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-bf9113"},"children":[{"type":"text","value":"/**核心 - 一个接收实例的静态成员，直接创建好实例 */"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-591f75"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-591f75"},"children":[{"type":"text","value":"static"}]},{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-45af2e"},"children":[{"type":"text","value":"people"}]},{"type":"element","tag":"span","props":{"class":"ct-591f75"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-871ad1"},"children":[{"type":"text","value":"PeopleSingle"}]},{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-591f75"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-591f75"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e0370a"},"children":[{"type":"text","value":"PeopleSingle"}]},{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7c5973"},"children":[{"type":"text","value":"'金闪闪'"}]},{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-591f75"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-45af2e"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-591f75"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-651b15"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-0a193f"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-bf9113"},"children":[{"type":"text","value":"/**核心 - 私有构造函数 */"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-28c4ca"},"children":[{"type":"text","value":"constructor"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5e9e5b"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7fab19"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":") {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-73c7cc"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":".name "}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" name;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-bf9113"},"children":[{"type":"text","value":"/**核心 - 获取实例 */"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":"static"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5c57aa"},"children":[{"type":"text","value":"getInstance"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"()"}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-65a75a"},"children":[{"type":"text","value":"PeopleSingle"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" PeopleSingle.people;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5c57aa"},"children":[{"type":"text","value":"say"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"()"}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7fab19"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"    console."}]},{"type":"element","tag":"span","props":{"class":"ct-5c57aa"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ff51c8"},"children":[{"type":"text","value":"`I'm "}]},{"type":"element","tag":"span","props":{"class":"ct-25b9b8"},"children":[{"type":"text","value":"${"}]},{"type":"element","tag":"span","props":{"class":"ct-73c7cc"},"children":[{"type":"text","value":"this"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"测试"}]},{"type":"element","tag":"code","props":{"code":"let people = PeopleSingle.getInstance();\npeople.say();\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-28c4ca"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" people "}]},{"type":"element","tag":"span","props":{"class":"ct-e6aec0"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":" PeopleSingle."}]},{"type":"element","tag":"span","props":{"class":"ct-5c57aa"},"children":[{"type":"text","value":"getInstance"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"people."}]},{"type":"element","tag":"span","props":{"class":"ct-5c57aa"},"children":[{"type":"text","value":"say"}]},{"type":"element","tag":"span","props":{"class":"ct-652af0"},"children":[{"type":"text","value":"();"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"举的例子不是特别好，但是意思是这个意思。"}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-7c5973{color:#0A3069}.ct-e0370a{color:#8250DF}.ct-25b9b8{color:#0A3069}.ct-ff51c8{color:#0A3069}.ct-e5ec15{color:#0550AE}.ct-5c57aa{color:#8250DF}.ct-73c7cc{color:#0550AE}.ct-7fab19{color:#0550AE}.ct-5e9e5b{color:#953800}.ct-e6aec0{color:#CF222E}.ct-651b15{color:#0550AE}.ct-871ad1{color:#953800}.ct-45af2e{color:#953800}.ct-591f75{color:#CF222E}.ct-0a193f{color:#24292F}.ct-bf9113{color:#6E7781}.ct-65a75a{color:#953800}.ct-652af0{color:#24292F}.ct-28c4ca{color:#CF222E}.sepia .ct-28c4ca{color:#66D9EF}.dark .ct-28c4ca{color:#FF7B72}.sepia .ct-652af0{color:#F8F8F2}.dark .ct-652af0{color:#C9D1D9}.sepia .ct-65a75a{color:#A6E22E}.dark .ct-65a75a{color:#FFA657}.sepia .ct-bf9113{color:#88846F}.dark .ct-bf9113{color:#8B949E}.dark .ct-0a193f{color:#C9D1D9}.sepia .ct-0a193f{color:#F8F8F2}.dark .ct-591f75{color:#FF7B72}.sepia .ct-591f75{color:#F92672}.dark .ct-45af2e{color:#FFA657}.sepia .ct-45af2e{color:#F8F8F2}.dark .ct-871ad1{color:#FFA657}.sepia .ct-871ad1{color:#A6E22E}.dark .ct-651b15{color:#79C0FF}.sepia .ct-651b15{color:#66D9EF}.sepia .ct-e6aec0{color:#F92672}.dark .ct-e6aec0{color:#FF7B72}.sepia .ct-5e9e5b{color:#FD971F}.dark .ct-5e9e5b{color:#FFA657}.sepia .ct-7fab19{color:#66D9EF}.dark .ct-7fab19{color:#79C0FF}.sepia .ct-73c7cc{color:#FD971F}.dark .ct-73c7cc{color:#79C0FF}.sepia .ct-5c57aa{color:#A6E22E}.dark .ct-5c57aa{color:#D2A8FF}.sepia .ct-e5ec15{color:#AE81FF}.dark .ct-e5ec15{color:#79C0FF}.sepia .ct-ff51c8{color:#E6DB74}.dark .ct-ff51c8{color:#A5D6FF}.sepia .ct-25b9b8{color:#F92672}.dark .ct-25b9b8{color:#A5D6FF}.dark .ct-e0370a{color:#D2A8FF}.sepia .ct-e0370a{color:#A6E22E}.dark .ct-7c5973{color:#A5D6FF}.sepia .ct-7c5973{color:#E6DB74}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"懒汉单例模式","depth":2,"text":"懒汉单例模式"},{"id":"饿汉单例模式","depth":2,"text":"饿汉单例模式"}]}},"_type":"markdown","_id":"content:posts:2020:ts-singleton.md","_source":"content","_file":"posts/2020/ts-singleton.md","_extension":"md"},"hash":"dI1PBdayUQ"}