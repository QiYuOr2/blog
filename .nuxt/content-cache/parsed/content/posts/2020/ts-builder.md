{"parsed":{"_path":"/posts/2020/ts-builder","_dir":"2020","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"TypeScript实现设计模式——生成器模式","description":"生成器模式是一种在 TypeScript/JavaScript 中非常常见的创建型设计模式，它使你能够分步骤创建复杂对象。当你需要创建一个可能有许多配置选项的对象时， 该模式会特别有用。","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"生成器模式"}]},{"type":"text","value":"是一种在 TypeScript/JavaScript 中非常常见的创建型设计模式，它使你能够分步骤创建复杂对象。当你需要创建一个可能有许多配置选项的对象时， 该模式会特别有用。"}]},{"type":"element","tag":"h3","props":{"id":"问题"},"children":[{"type":"text","value":"问题"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"假设我们需要构造一个复杂对象，构造时需要给这个对象的诸多成员变量进行初始化工作，如果使用传统的构造函数创建这个对象，那么它的构造函数将十分复杂，比如"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"new Product(partA, partB, partC, ...)"}]},{"type":"text","value":"，这样的构造函数不仅缺乏灵活性还会严重的影响代码的可读性，因此我们需要一种更优秀的方法来创建复杂对象。"}]},{"type":"element","tag":"h3","props":{"id":"创建想要生成的产品类"},"children":[{"type":"text","value":"创建想要生成的产品类"}]},{"type":"element","tag":"code","props":{"code":"class Product {\n  public partA: string;\n  public partB: string;\n  public partC: string;\n  public partD: string;\n}\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"class Product {\n  public partA: string;\n  public partB: string;\n  public partC: string;\n  public partD: string;\n}\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"创建生成器类"},"children":[{"type":"text","value":"创建生成器类"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"可以将基本生成器定义为一个接口，再为每个形式的产品创建具体的生成类，这里只定义一个生成器类作为演示"}]},{"type":"element","tag":"code","props":{"code":"class ProductBuilder {\n  private product: Product;\n\n  constructor() {\n    // 创建要生成的对象\n    this.product = new Product();\n  }\n\n  // 以下为给对象添加各部分的方法\n  public setPartA(partA: string): this {\n    this.product.partA = partA;\n    return this;\n  }\n\n  public setPartB(partB: string): this {\n    this.product.partB = partB;\n    return this;\n  }\n\n  public setPartC(partC: string): this {\n    this.product.partC = partC;\n    return this;\n  }\n\n  public setPartD(partD: string): this {\n    this.product.partD = partD;\n    return this;\n  }\n\n  // 完成产品生成\n  public build(): void {\n    // 这里可以写具体的构建完成后要执行的操作\n    console.log(this.product);\n  }\n}\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"class ProductBuilder {\n  private product: Product;\n\n  constructor() {\n    // 创建要生成的对象\n    this.product = new Product();\n  }\n\n  // 以下为给对象添加各部分的方法\n  public setPartA(partA: string): this {\n    this.product.partA = partA;\n    return this;\n  }\n\n  public setPartB(partB: string): this {\n    this.product.partB = partB;\n    return this;\n  }\n\n  public setPartC(partC: string): this {\n    this.product.partC = partC;\n    return this;\n  }\n\n  public setPartD(partD: string): this {\n    this.product.partD = partD;\n    return this;\n  }\n\n  // 完成产品生成\n  public build(): void {\n    // 这里可以写具体的构建完成后要执行的操作\n    console.log(this.product);\n  }\n}\n"}]}]}]},{"type":"element","tag":"h3","props":{"id":"测试代码"},"children":[{"type":"text","value":"测试代码"}]},{"type":"element","tag":"code","props":{"code":"const product = new ProductBuilder()\n  .setPartA('这是Part A')\n  .setPartB('这是Part B')\n  .setPartD('这是Part D')\n  .build();\n// Product { partA: '这是Part A', partB: '这是Part B', partD: '这是Part D' }\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const product = new ProductBuilder()\n  .setPartA('这是Part A')\n  .setPartB('这是Part B')\n  .setPartD('这是Part D')\n  .build();\n// Product { partA: '这是Part A', partB: '这是Part B', partD: '这是Part D' }\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"const product = new ProductBuilder()\n  .setPartA('这是Part A')\n  .setPartB('这是Part B')\n  .build();\n// Product { partA: '这是Part A', partB: '这是Part B' }\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const product = new ProductBuilder()\n  .setPartA('这是Part A')\n  .setPartB('这是Part B')\n  .build();\n// Product { partA: '这是Part A', partB: '这是Part B' }\n"}]}]}]}]},"date":"2020/09/28 13:47:16","tags":["TypeScript","设计模式"],"category":"技术","summary":"生成器模式是一种在TypeScript/JavaScript中非常常见的创建型设计模式，它使你能够分步骤创建复杂对象。当你需要创建一个可能有许多配置选项的对象时， 该模式会特别有用。","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"生成器模式"}]},{"type":"text","value":"是一种在 TypeScript/JavaScript 中非常常见的创建型设计模式，它使你能够分步骤创建复杂对象。当你需要创建一个可能有许多配置选项的对象时， 该模式会特别有用。"}]},{"type":"element","tag":"h3","props":{"id":"问题"},"children":[{"type":"text","value":"问题"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"假设我们需要构造一个复杂对象，构造时需要给这个对象的诸多成员变量进行初始化工作，如果使用传统的构造函数创建这个对象，那么它的构造函数将十分复杂，比如"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"new Product(partA, partB, partC, ...)"}]},{"type":"text","value":"，这样的构造函数不仅缺乏灵活性还会严重的影响代码的可读性，因此我们需要一种更优秀的方法来创建复杂对象。"}]},{"type":"element","tag":"h3","props":{"id":"创建想要生成的产品类"},"children":[{"type":"text","value":"创建想要生成的产品类"}]},{"type":"element","tag":"code","props":{"code":"class Product {\n  public partA: string;\n  public partB: string;\n  public partC: string;\n  public partD: string;\n}\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a564b4"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-beb750"},"children":[{"type":"text","value":"Product"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-024cf0"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-98d648"},"children":[{"type":"text","value":"partA"}]},{"type":"element","tag":"span","props":{"class":"ct-024cf0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0f3373"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-024cf0"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-98d648"},"children":[{"type":"text","value":"partB"}]},{"type":"element","tag":"span","props":{"class":"ct-024cf0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0f3373"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-024cf0"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-98d648"},"children":[{"type":"text","value":"partC"}]},{"type":"element","tag":"span","props":{"class":"ct-024cf0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0f3373"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-024cf0"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-98d648"},"children":[{"type":"text","value":"partD"}]},{"type":"element","tag":"span","props":{"class":"ct-024cf0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0f3373"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"创建生成器类"},"children":[{"type":"text","value":"创建生成器类"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"可以将基本生成器定义为一个接口，再为每个形式的产品创建具体的生成类，这里只定义一个生成器类作为演示"}]},{"type":"element","tag":"code","props":{"code":"class ProductBuilder {\n  private product: Product;\n\n  constructor() {\n    // 创建要生成的对象\n    this.product = new Product();\n  }\n\n  // 以下为给对象添加各部分的方法\n  public setPartA(partA: string): this {\n    this.product.partA = partA;\n    return this;\n  }\n\n  public setPartB(partB: string): this {\n    this.product.partB = partB;\n    return this;\n  }\n\n  public setPartC(partC: string): this {\n    this.product.partC = partC;\n    return this;\n  }\n\n  public setPartD(partD: string): this {\n    this.product.partD = partD;\n    return this;\n  }\n\n  // 完成产品生成\n  public build(): void {\n    // 这里可以写具体的构建完成后要执行的操作\n    console.log(this.product);\n  }\n}\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a564b4"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-beb750"},"children":[{"type":"text","value":"ProductBuilder"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-024cf0"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-98d648"},"children":[{"type":"text","value":"product"}]},{"type":"element","tag":"span","props":{"class":"ct-024cf0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bb9b8c"},"children":[{"type":"text","value":"Product"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a564b4"},"children":[{"type":"text","value":"constructor"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"() {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6cd2c"},"children":[{"type":"text","value":"// 创建要生成的对象"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-191b86"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":".product "}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-932cc4"},"children":[{"type":"text","value":"Product"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-d6cd2c"},"children":[{"type":"text","value":"// 以下为给对象添加各部分的方法"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-932cc4"},"children":[{"type":"text","value":"setPartA"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1987cc"},"children":[{"type":"text","value":"partA"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-30286f"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-30286f"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-191b86"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":".product.partA "}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" partA;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-191b86"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-932cc4"},"children":[{"type":"text","value":"setPartB"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1987cc"},"children":[{"type":"text","value":"partB"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-30286f"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-30286f"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-191b86"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":".product.partB "}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" partB;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-191b86"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-932cc4"},"children":[{"type":"text","value":"setPartC"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1987cc"},"children":[{"type":"text","value":"partC"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-30286f"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-30286f"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-191b86"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":".product.partC "}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" partC;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-191b86"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-932cc4"},"children":[{"type":"text","value":"setPartD"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1987cc"},"children":[{"type":"text","value":"partD"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-30286f"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-30286f"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-191b86"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":".product.partD "}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" partD;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-191b86"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-d6cd2c"},"children":[{"type":"text","value":"// 完成产品生成"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-932cc4"},"children":[{"type":"text","value":"build"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"()"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0314"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-30286f"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-d6cd2c"},"children":[{"type":"text","value":"// 这里可以写具体的构建完成后要执行的操作"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"    console."}]},{"type":"element","tag":"span","props":{"class":"ct-932cc4"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-191b86"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":".product);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"测试代码"},"children":[{"type":"text","value":"测试代码"}]},{"type":"element","tag":"code","props":{"code":"const product = new ProductBuilder()\n  .setPartA('这是Part A')\n  .setPartB('这是Part B')\n  .setPartD('这是Part D')\n  .build();\n// Product { partA: '这是Part A', partB: '这是Part B', partD: '这是Part D' }\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6e023"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1f9ff9"},"children":[{"type":"text","value":"product"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-024cf0"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c691be"},"children":[{"type":"text","value":"ProductBuilder"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  ."}]},{"type":"element","tag":"span","props":{"class":"ct-932cc4"},"children":[{"type":"text","value":"setPartA"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-8cf98c"},"children":[{"type":"text","value":"'这是Part A'"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  ."}]},{"type":"element","tag":"span","props":{"class":"ct-932cc4"},"children":[{"type":"text","value":"setPartB"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-8cf98c"},"children":[{"type":"text","value":"'这是Part B'"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  ."}]},{"type":"element","tag":"span","props":{"class":"ct-932cc4"},"children":[{"type":"text","value":"setPartD"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-8cf98c"},"children":[{"type":"text","value":"'这是Part D'"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  ."}]},{"type":"element","tag":"span","props":{"class":"ct-932cc4"},"children":[{"type":"text","value":"build"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d6cd2c"},"children":[{"type":"text","value":"// Product { partA: '这是Part A', partB: '这是Part B', partD: '这是Part D' }"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"const product = new ProductBuilder()\n  .setPartA('这是Part A')\n  .setPartB('这是Part B')\n  .build();\n// Product { partA: '这是Part A', partB: '这是Part B' }\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f6e023"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1f9ff9"},"children":[{"type":"text","value":"product"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-024cf0"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c691be"},"children":[{"type":"text","value":"ProductBuilder"}]},{"type":"element","tag":"span","props":{"class":"ct-ddadd6"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  ."}]},{"type":"element","tag":"span","props":{"class":"ct-932cc4"},"children":[{"type":"text","value":"setPartA"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-8cf98c"},"children":[{"type":"text","value":"'这是Part A'"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  ."}]},{"type":"element","tag":"span","props":{"class":"ct-932cc4"},"children":[{"type":"text","value":"setPartB"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-8cf98c"},"children":[{"type":"text","value":"'这是Part B'"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"  ."}]},{"type":"element","tag":"span","props":{"class":"ct-932cc4"},"children":[{"type":"text","value":"build"}]},{"type":"element","tag":"span","props":{"class":"ct-06df3c"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d6cd2c"},"children":[{"type":"text","value":"// Product { partA: '这是Part A', partB: '这是Part B' }"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-8cf98c{color:#0A3069}.ct-c691be{color:#8250DF}.ct-1f9ff9{color:#0550AE}.ct-f6e023{color:#CF222E}.ct-30286f{color:#0550AE}.ct-1987cc{color:#953800}.ct-932cc4{color:#8250DF}.ct-fc0314{color:#CF222E}.ct-191b86{color:#0550AE}.ct-d6cd2c{color:#6E7781}.ct-bb9b8c{color:#953800}.ct-0f3373{color:#0550AE}.ct-98d648{color:#953800}.ct-024cf0{color:#CF222E}.ct-ddadd6{color:#24292F}.ct-beb750{color:#953800}.ct-06df3c{color:#24292F}.ct-a564b4{color:#CF222E}.sepia .ct-a564b4{color:#66D9EF}.dark .ct-a564b4{color:#FF7B72}.sepia .ct-06df3c{color:#F8F8F2}.dark .ct-06df3c{color:#C9D1D9}.sepia .ct-beb750{color:#A6E22E}.dark .ct-beb750{color:#FFA657}.dark .ct-ddadd6{color:#C9D1D9}.sepia .ct-ddadd6{color:#F8F8F2}.dark .ct-024cf0{color:#FF7B72}.sepia .ct-024cf0{color:#F92672}.dark .ct-98d648{color:#FFA657}.sepia .ct-98d648{color:#F8F8F2}.dark .ct-0f3373{color:#79C0FF}.sepia .ct-0f3373{color:#66D9EF}.dark .ct-bb9b8c{color:#FFA657}.sepia .ct-bb9b8c{color:#A6E22E}.sepia .ct-d6cd2c{color:#88846F}.dark .ct-d6cd2c{color:#8B949E}.sepia .ct-191b86{color:#FD971F}.dark .ct-191b86{color:#79C0FF}.sepia .ct-fc0314{color:#F92672}.dark .ct-fc0314{color:#FF7B72}.sepia .ct-932cc4{color:#A6E22E}.dark .ct-932cc4{color:#D2A8FF}.sepia .ct-1987cc{color:#FD971F}.dark .ct-1987cc{color:#FFA657}.sepia .ct-30286f{color:#66D9EF}.dark .ct-30286f{color:#79C0FF}.dark .ct-f6e023{color:#FF7B72}.sepia .ct-f6e023{color:#66D9EF}.dark .ct-1f9ff9{color:#79C0FF}.sepia .ct-1f9ff9{color:#F8F8F2}.dark .ct-c691be{color:#D2A8FF}.sepia .ct-c691be{color:#A6E22E}.sepia .ct-8cf98c{color:#E6DB74}.dark .ct-8cf98c{color:#A5D6FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"问题","depth":3,"text":"问题"},{"id":"创建想要生成的产品类","depth":3,"text":"创建想要生成的产品类"},{"id":"创建生成器类","depth":3,"text":"创建生成器类"},{"id":"测试代码","depth":3,"text":"测试代码"}]}},"_type":"markdown","_id":"content:posts:2020:ts-builder.md","_source":"content","_file":"posts/2020/ts-builder.md","_extension":"md"},"hash":"lr5w29Bt82"}