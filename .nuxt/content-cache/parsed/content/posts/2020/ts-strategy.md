{"parsed":{"_path":"/posts/2020/ts-strategy","_dir":"2020","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"TypeScript实现设计模式——策略模式","description":"","excerpt":{"type":"root","children":[{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"策略模式（Strategy）：它定义了算法家族，分别封装起来，让它们之间可以互相替换，此模式让算法的变化不会影响到使用算法的客户。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"——《大话设计模式》"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"策略模式主要用来解决当有多种相似算法的时，使用 if...else 产生的难以维护的问题。它主要由三部分组成：Strategy 接口、具体的 Strategy 类以及用来改变和执行策略的 Context 类。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接下来将以一个超市选择优惠活动的例子实现策略模式。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Strategy 接口"}]}]},{"type":"element","tag":"code","props":{"code":"interface Strategy {\n  /**\n   * 优惠活动\n   * @param money 原价\n   * @returns 现价\n   */\n  discount(money: number): number;\n}\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"interface Strategy {\n  /**\n   * 优惠活动\n   * @param money 原价\n   * @returns 现价\n   */\n  discount(money: number): number;\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"具体的优惠策略"}]}]},{"type":"element","tag":"code","props":{"code":"// 满减优惠\nclass FullAndReduceStrategy implements Strategy {\n  // 满足条件的金额\n  private conditionMoney: number;\n  // 减少的金额\n  private reduceMoney: number;\n\n  constructor(money: number, returnMoney: number) {\n    this.conditionMoney = money;\n    this.reduceMoney = returnMoney;\n  }\n\n  public discount(money: number): number {\n    let result: number;\n\n    if (money >= this.conditionMoney) {\n      result =\n        money - Math.floor(money / this.conditionMoney) * this.reduceMoney;\n    }\n\n    return result;\n  }\n}\n\n// 现金折扣\nclass CashRebateStrategy implements Strategy {\n  // 折扣值\n  private moneyRabte: number;\n\n  constructor(moneyRabte: number) {\n    this.moneyRabte = moneyRabte;\n  }\n\n  discount(money: number): number {\n    return money * this.moneyRabte;\n  }\n}\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 满减优惠\nclass FullAndReduceStrategy implements Strategy {\n  // 满足条件的金额\n  private conditionMoney: number;\n  // 减少的金额\n  private reduceMoney: number;\n\n  constructor(money: number, returnMoney: number) {\n    this.conditionMoney = money;\n    this.reduceMoney = returnMoney;\n  }\n\n  public discount(money: number): number {\n    let result: number;\n\n    if (money >= this.conditionMoney) {\n      result =\n        money - Math.floor(money / this.conditionMoney) * this.reduceMoney;\n    }\n\n    return result;\n  }\n}\n\n// 现金折扣\nclass CashRebateStrategy implements Strategy {\n  // 折扣值\n  private moneyRabte: number;\n\n  constructor(moneyRabte: number) {\n    this.moneyRabte = moneyRabte;\n  }\n\n  discount(money: number): number {\n    return money * this.moneyRabte;\n  }\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Context 类"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"setStrategy"}]},{"type":"text","value":"方法用来控制要使用的策略，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"execute"}]},{"type":"text","value":"方法用来执行策略。"}]},{"type":"element","tag":"code","props":{"code":"class Context {\n  private strategy: Strategy;\n  private money: number;\n\n  constructor(money: number) {\n    this.money = money;\n  }\n\n  // 设置优惠策略\n  public setStrategy(strategy: Strategy): void {\n    this.strategy = strategy;\n  }\n\n  // 执行策略\n  public execute(): number {\n    return this.strategy.discount(this.money);\n  }\n}\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"class Context {\n  private strategy: Strategy;\n  private money: number;\n\n  constructor(money: number) {\n    this.money = money;\n  }\n\n  // 设置优惠策略\n  public setStrategy(strategy: Strategy): void {\n    this.strategy = strategy;\n  }\n\n  // 执行策略\n  public execute(): number {\n    return this.strategy.discount(this.money);\n  }\n}\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"测试"}]}]},{"type":"element","tag":"code","props":{"code":"const context: Context = new Context(100);\n\ncontext.setStrategy(new FullAndReduceStrategy(50, 2));\nconsole.log(context.execute()); // 96\n\ncontext.setStrategy(new CashRebateStrategy(0.5));\nconsole.log(context.execute()); // 50\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const context: Context = new Context(100);\n\ncontext.setStrategy(new FullAndReduceStrategy(50, 2));\nconsole.log(context.execute()); // 96\n\ncontext.setStrategy(new CashRebateStrategy(0.5));\nconsole.log(context.execute()); // 50\n"}]}]}]}]},"date":"2020/03/21 17:29:07","tags":["TypeScript","设计模式"],"category":"技术","summary":"策略模式（Strategy）：它定义了算法家族，分别封装起来，让它们之间可以互相替换，此模式让算法的变化不会影响到使用算法的客户。——《大话设计模式》","body":{"type":"root","children":[{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"策略模式（Strategy）：它定义了算法家族，分别封装起来，让它们之间可以互相替换，此模式让算法的变化不会影响到使用算法的客户。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"——《大话设计模式》"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"策略模式主要用来解决当有多种相似算法的时，使用 if...else 产生的难以维护的问题。它主要由三部分组成：Strategy 接口、具体的 Strategy 类以及用来改变和执行策略的 Context 类。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接下来将以一个超市选择优惠活动的例子实现策略模式。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Strategy 接口"}]}]},{"type":"element","tag":"code","props":{"code":"interface Strategy {\n  /**\n   * 优惠活动\n   * @param money 原价\n   * @returns 现价\n   */\n  discount(money: number): number;\n}\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-78c4ce"},"children":[{"type":"text","value":"interface"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-586b37"},"children":[{"type":"text","value":"Strategy"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7704a3"},"children":[{"type":"text","value":"/**"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7704a3"},"children":[{"type":"text","value":"   * 优惠活动"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7704a3"},"children":[{"type":"text","value":"   * "}]},{"type":"element","tag":"span","props":{"class":"ct-78c4ce"},"children":[{"type":"text","value":"@param"}]},{"type":"element","tag":"span","props":{"class":"ct-7704a3"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"money"}]},{"type":"element","tag":"span","props":{"class":"ct-7704a3"},"children":[{"type":"text","value":" 原价"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7704a3"},"children":[{"type":"text","value":"   * "}]},{"type":"element","tag":"span","props":{"class":"ct-78c4ce"},"children":[{"type":"text","value":"@returns"}]},{"type":"element","tag":"span","props":{"class":"ct-7704a3"},"children":[{"type":"text","value":" 现价"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7704a3"},"children":[{"type":"text","value":"   */"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-ec8187"},"children":[{"type":"text","value":"discount"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-897c3e"},"children":[{"type":"text","value":"money"}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ddc9f4"},"children":[{"type":"text","value":"number"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ddc9f4"},"children":[{"type":"text","value":"number"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"具体的优惠策略"}]}]},{"type":"element","tag":"code","props":{"code":"// 满减优惠\nclass FullAndReduceStrategy implements Strategy {\n  // 满足条件的金额\n  private conditionMoney: number;\n  // 减少的金额\n  private reduceMoney: number;\n\n  constructor(money: number, returnMoney: number) {\n    this.conditionMoney = money;\n    this.reduceMoney = returnMoney;\n  }\n\n  public discount(money: number): number {\n    let result: number;\n\n    if (money >= this.conditionMoney) {\n      result =\n        money - Math.floor(money / this.conditionMoney) * this.reduceMoney;\n    }\n\n    return result;\n  }\n}\n\n// 现金折扣\nclass CashRebateStrategy implements Strategy {\n  // 折扣值\n  private moneyRabte: number;\n\n  constructor(moneyRabte: number) {\n    this.moneyRabte = moneyRabte;\n  }\n\n  discount(money: number): number {\n    return money * this.moneyRabte;\n  }\n}\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7704a3"},"children":[{"type":"text","value":"// 满减优惠"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-78c4ce"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-586b37"},"children":[{"type":"text","value":"FullAndReduceStrategy"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"implements"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-80b092"},"children":[{"type":"text","value":"Strategy"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7704a3"},"children":[{"type":"text","value":"// 满足条件的金额"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-c59c01"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-da492d"},"children":[{"type":"text","value":"conditionMoney"}]},{"type":"element","tag":"span","props":{"class":"ct-c59c01"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-edcec1"},"children":[{"type":"text","value":"number"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7704a3"},"children":[{"type":"text","value":"// 减少的金额"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-c59c01"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-da492d"},"children":[{"type":"text","value":"reduceMoney"}]},{"type":"element","tag":"span","props":{"class":"ct-c59c01"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-edcec1"},"children":[{"type":"text","value":"number"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-78c4ce"},"children":[{"type":"text","value":"constructor"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-897c3e"},"children":[{"type":"text","value":"money"}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ddc9f4"},"children":[{"type":"text","value":"number"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-897c3e"},"children":[{"type":"text","value":"returnMoney"}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ddc9f4"},"children":[{"type":"text","value":"number"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":") {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-642e74"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":".conditionMoney "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" money;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-642e74"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":".reduceMoney "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" returnMoney;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ec8187"},"children":[{"type":"text","value":"discount"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-897c3e"},"children":[{"type":"text","value":"money"}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ddc9f4"},"children":[{"type":"text","value":"number"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ddc9f4"},"children":[{"type":"text","value":"number"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-78c4ce"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" result"}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ddc9f4"},"children":[{"type":"text","value":"number"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" (money "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":">="}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-642e74"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":".conditionMoney) {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"      result "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"="}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"        money "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ddc9f4"},"children":[{"type":"text","value":"Math"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-ddc9f4"},"children":[{"type":"text","value":"floor"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"(money "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-642e74"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":".conditionMoney) "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-642e74"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":".reduceMoney;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" result;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7704a3"},"children":[{"type":"text","value":"// 现金折扣"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-78c4ce"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-586b37"},"children":[{"type":"text","value":"CashRebateStrategy"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"implements"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-80b092"},"children":[{"type":"text","value":"Strategy"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7704a3"},"children":[{"type":"text","value":"// 折扣值"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-c59c01"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-da492d"},"children":[{"type":"text","value":"moneyRabte"}]},{"type":"element","tag":"span","props":{"class":"ct-c59c01"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-edcec1"},"children":[{"type":"text","value":"number"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-78c4ce"},"children":[{"type":"text","value":"constructor"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-897c3e"},"children":[{"type":"text","value":"moneyRabte"}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ddc9f4"},"children":[{"type":"text","value":"number"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":") {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-642e74"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":".moneyRabte "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" moneyRabte;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-ec8187"},"children":[{"type":"text","value":"discount"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-897c3e"},"children":[{"type":"text","value":"money"}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ddc9f4"},"children":[{"type":"text","value":"number"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ddc9f4"},"children":[{"type":"text","value":"number"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" money "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-642e74"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":".moneyRabte;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Context 类"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"setStrategy"}]},{"type":"text","value":"方法用来控制要使用的策略，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"execute"}]},{"type":"text","value":"方法用来执行策略。"}]},{"type":"element","tag":"code","props":{"code":"class Context {\n  private strategy: Strategy;\n  private money: number;\n\n  constructor(money: number) {\n    this.money = money;\n  }\n\n  // 设置优惠策略\n  public setStrategy(strategy: Strategy): void {\n    this.strategy = strategy;\n  }\n\n  // 执行策略\n  public execute(): number {\n    return this.strategy.discount(this.money);\n  }\n}\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-78c4ce"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-586b37"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-c59c01"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-da492d"},"children":[{"type":"text","value":"strategy"}]},{"type":"element","tag":"span","props":{"class":"ct-c59c01"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e86134"},"children":[{"type":"text","value":"Strategy"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-c59c01"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-da492d"},"children":[{"type":"text","value":"money"}]},{"type":"element","tag":"span","props":{"class":"ct-c59c01"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-edcec1"},"children":[{"type":"text","value":"number"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-78c4ce"},"children":[{"type":"text","value":"constructor"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-897c3e"},"children":[{"type":"text","value":"money"}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ddc9f4"},"children":[{"type":"text","value":"number"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":") {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-642e74"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":".money "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" money;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7704a3"},"children":[{"type":"text","value":"// 设置优惠策略"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ec8187"},"children":[{"type":"text","value":"setStrategy"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-897c3e"},"children":[{"type":"text","value":"strategy"}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-586b37"},"children":[{"type":"text","value":"Strategy"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ddc9f4"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-642e74"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":".strategy "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" strategy;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7704a3"},"children":[{"type":"text","value":"// 执行策略"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ec8187"},"children":[{"type":"text","value":"execute"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"()"}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ddc9f4"},"children":[{"type":"text","value":"number"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-642e74"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":".strategy."}]},{"type":"element","tag":"span","props":{"class":"ct-ec8187"},"children":[{"type":"text","value":"discount"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-642e74"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":".money);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"测试"}]}]},{"type":"element","tag":"code","props":{"code":"const context: Context = new Context(100);\n\ncontext.setStrategy(new FullAndReduceStrategy(50, 2));\nconsole.log(context.execute()); // 96\n\ncontext.setStrategy(new CashRebateStrategy(0.5));\nconsole.log(context.execute()); // 50\n","language":"typescript"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-8b82b8"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-17b1d6"},"children":[{"type":"text","value":"context"}]},{"type":"element","tag":"span","props":{"class":"ct-c59c01"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e86134"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59c01"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59c01"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-27c5b1"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5c7698"},"children":[{"type":"text","value":"100"}]},{"type":"element","tag":"span","props":{"class":"ct-b8cebf"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"context."}]},{"type":"element","tag":"span","props":{"class":"ct-ec8187"},"children":[{"type":"text","value":"setStrategy"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ec8187"},"children":[{"type":"text","value":"FullAndReduceStrategy"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-9575a9"},"children":[{"type":"text","value":"50"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-9575a9"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"));"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"console."}]},{"type":"element","tag":"span","props":{"class":"ct-ec8187"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"(context."}]},{"type":"element","tag":"span","props":{"class":"ct-ec8187"},"children":[{"type":"text","value":"execute"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"()); "}]},{"type":"element","tag":"span","props":{"class":"ct-7704a3"},"children":[{"type":"text","value":"// 96"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"context."}]},{"type":"element","tag":"span","props":{"class":"ct-ec8187"},"children":[{"type":"text","value":"setStrategy"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-12fcc0"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ec8187"},"children":[{"type":"text","value":"CashRebateStrategy"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-9575a9"},"children":[{"type":"text","value":"0.5"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"));"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"console."}]},{"type":"element","tag":"span","props":{"class":"ct-ec8187"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"(context."}]},{"type":"element","tag":"span","props":{"class":"ct-ec8187"},"children":[{"type":"text","value":"execute"}]},{"type":"element","tag":"span","props":{"class":"ct-e71a53"},"children":[{"type":"text","value":"()); "}]},{"type":"element","tag":"span","props":{"class":"ct-7704a3"},"children":[{"type":"text","value":"// 50"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-9575a9{color:#0550AE}.ct-5c7698{color:#0550AE}.ct-27c5b1{color:#8250DF}.ct-17b1d6{color:#0550AE}.ct-8b82b8{color:#CF222E}.ct-e86134{color:#953800}.ct-642e74{color:#0550AE}.ct-edcec1{color:#0550AE}.ct-da492d{color:#953800}.ct-c59c01{color:#CF222E}.ct-b8cebf{color:#24292F}.ct-80b092{color:#0550AE}.ct-ddc9f4{color:#0550AE}.ct-12fcc0{color:#CF222E}.ct-897c3e{color:#953800}.ct-ec8187{color:#8250DF}.ct-7704a3{color:#6E7781}.ct-586b37{color:#953800}.ct-e71a53{color:#24292F}.ct-78c4ce{color:#CF222E}.sepia .ct-78c4ce{color:#66D9EF}.dark .ct-78c4ce{color:#FF7B72}.sepia .ct-e71a53{color:#F8F8F2}.dark .ct-e71a53{color:#C9D1D9}.sepia .ct-586b37{color:#A6E22E}.dark .ct-586b37{color:#FFA657}.sepia .ct-7704a3{color:#88846F}.dark .ct-7704a3{color:#8B949E}.sepia .ct-ec8187{color:#A6E22E}.dark .ct-ec8187{color:#D2A8FF}.sepia .ct-897c3e{color:#FD971F}.dark .ct-897c3e{color:#FFA657}.sepia .ct-12fcc0{color:#F92672}.dark .ct-12fcc0{color:#FF7B72}.sepia .ct-ddc9f4{color:#66D9EF}.dark .ct-ddc9f4{color:#79C0FF}.sepia .ct-80b092{color:#A6E22E}.dark .ct-80b092{color:#79C0FF}.dark .ct-b8cebf{color:#C9D1D9}.sepia .ct-b8cebf{color:#F8F8F2}.dark .ct-c59c01{color:#FF7B72}.sepia .ct-c59c01{color:#F92672}.dark .ct-da492d{color:#FFA657}.sepia .ct-da492d{color:#F8F8F2}.dark .ct-edcec1{color:#79C0FF}.sepia .ct-edcec1{color:#66D9EF}.sepia .ct-642e74{color:#FD971F}.dark .ct-642e74{color:#79C0FF}.dark .ct-e86134{color:#FFA657}.sepia .ct-e86134{color:#A6E22E}.dark .ct-8b82b8{color:#FF7B72}.sepia .ct-8b82b8{color:#66D9EF}.dark .ct-17b1d6{color:#79C0FF}.sepia .ct-17b1d6{color:#F8F8F2}.dark .ct-27c5b1{color:#D2A8FF}.sepia .ct-27c5b1{color:#A6E22E}.dark .ct-5c7698{color:#79C0FF}.sepia .ct-5c7698{color:#AE81FF}.sepia .ct-9575a9{color:#AE81FF}.dark .ct-9575a9{color:#79C0FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:posts:2020:ts-strategy.md","_source":"content","_file":"posts/2020/ts-strategy.md","_extension":"md"},"hash":"6yf6vPaBfV"}